import{j as e,M as y}from"./index-C60dBqWj.js";import{d as f,u as b,b as t}from"./react-vendor-v5ei6ytj.js";const c={malayalam:{title:"Malayalam Appendix",description:"Supplementary Malayalam appendix content compiled from Thafheem archives.",apiLanguage:"malayalam"},english:{title:"English Appendix",description:"English appendix articles curated from Thafheem resources.",apiLanguage:"english"},urdu:{title:"Urdu Appendix",description:"Urdu appendix articles curated from Thafheem resources.",apiLanguage:"urdu"}},v=()=>{const{lang:g}=f(),p=b(),r=String(g||"english").toLowerCase(),s=t.useMemo(()=>r.startsWith("mal")?c.malayalam:r.startsWith("urdu")||r==="u"?c.urdu:c.english,[r]),[d,x]=t.useState([]),[n,m]=t.useState(!0),[i,l]=t.useState(null);t.useEffect(()=>{let a=!0;return(async()=>{try{m(!0),l(null);const o=await y(s.apiLanguage);if(!a)return;x(o.sections||[]),o.error&&l("Unable to fetch appendix content from the server.")}catch{a&&(l("Unable to load appendix content. Please try again later."),x([]))}finally{a&&m(!1)}})(),()=>{a=!1}},[s.apiLanguage]);const h=()=>{window.history.state&&window.history.state.idx>0?p(-1):p("/authorpreface")};return e.jsx("div",{className:"p-6 dark:bg-gray-900 min-h-screen",children:e.jsxs("div",{className:"sm:max-w-[1070px] max-w-[350px] w-full mx-auto font-poppins",children:[e.jsx("button",{onClick:h,className:"text-sm text-cyan-600 dark:text-cyan-400 hover:underline mb-4",children:"â† Back"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white border-b border-gray-300 dark:border-gray-600 pb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:s.description}),n&&e.jsx("div",{className:"py-10 text-center text-gray-600 dark:text-gray-300",children:"Loading appendix..."}),!n&&i&&e.jsx("div",{className:"mb-6 p-4 rounded-lg bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-200",children:i}),!n&&!i&&d.length===0&&e.jsx("div",{className:"py-10 text-center text-gray-600 dark:text-gray-300",children:"Appendix content is not available at the moment."}),!n&&!i&&d.length>0&&e.jsx("div",{className:"space-y-8",children:d.map((a,u)=>e.jsxs("section",{className:"bg-white dark:bg-[#1b1d27] rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 p-5 sm:p-7",children:[a.title&&e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-3",dangerouslySetInnerHTML:{__html:a.title}}),e.jsx("div",{className:"prose prose-sm sm:prose-base dark:prose-invert max-w-none leading-7 prose-a:text-cyan-600 dark:prose-a:text-cyan-400",dangerouslySetInnerHTML:{__html:a.text||""}})]},a.id||u))})]})})};export{v as default};
