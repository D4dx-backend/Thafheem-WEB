import{i as k,j as e,V as j}from"./index-DmadXW_T.js";import{d as A,u as w,b as r}from"./react-vendor-v5ei6ytj.js";const i={malayalam:{title:"Malayalam Appendix",apiLanguage:"malayalam"},english:{title:"English Appendix",apiLanguage:"english"},urdu:{title:"Urdu Appendix",apiLanguage:"urdu"},hindi:{title:"Hindi Appendix",apiLanguage:"hindi"},bangla:{title:"Bangla Appendix",apiLanguage:"bangla"}},S=()=>{const{lang:b}=A(),x=w(),{translationLanguage:d}=k(),a=String(b||"english").toLowerCase(),c=a.startsWith("bangla")||a==="bn"||d==="bn",s=r.useMemo(()=>a.startsWith("mal")?i.malayalam:a.startsWith("urdu")||a==="u"?i.urdu:a.startsWith("hindi")||a==="hi"?i.hindi:a.startsWith("bangla")||a==="bn"?i.bangla:i.english,[a]),n=a.startsWith("urdu")||a==="u"||d==="ur"||d==="urdu",[p,m]=r.useState([]),[l,h]=r.useState(!0),[o,g]=r.useState(null);r.useEffect(()=>{let t=!0;return(async()=>{try{h(!0),g(null);const u=await j(s.apiLanguage);if(!t)return;m(u.sections||[]),u.error&&g("Unable to fetch appendix content from the server.")}catch{t&&(g("Unable to load appendix content. Please try again later."),m([]))}finally{t&&h(!1)}})(),()=>{t=!1}},[s.apiLanguage]);const y=()=>{window.history.state&&window.history.state.idx>0?x(-1):x("/authorpreface")},N=t=>!n||!t?t:t.replace(/\)\?([A-Z][^(]+)\(/g,"($1?)").replace(/\(\?([A-Z][^)]+)\)/g,"($1?)");return e.jsxs("div",{className:"p-6 dark:bg-gray-900 min-h-screen",children:[n&&e.jsx("style",{children:`
          .urdu-appendix-content p {
            text-align: right !important;
            font-size: 16px !important;
            line-height: 2.6 !important;
            margin-bottom: 10px !important;
            font-family: 'Noto Nastaliq Urdu', 'JameelNoori', serif !important;
          }
        `}),e.jsxs("div",{className:"sm:max-w-[1070px] max-w-[350px] w-full mx-auto font-poppins",children:[e.jsx("button",{onClick:y,className:"text-sm text-cyan-600 dark:text-cyan-400 hover:underline mb-4",children:"â† Back"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white border-b border-gray-300 dark:border-gray-600 pb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:s.description}),l&&e.jsx("div",{className:"py-10 text-center text-gray-600 dark:text-gray-300",children:"Loading appendix..."}),!l&&o&&e.jsx("div",{className:"mb-6 p-4 rounded-lg bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-200",children:o}),!l&&!o&&p.length===0&&e.jsx("div",{className:"py-10 text-center text-gray-600 dark:text-gray-300",children:"Appendix content is not available at the moment."}),!l&&!o&&p.length>0&&e.jsx("div",{className:"space-y-8",dir:n?"rtl":"ltr",children:p.map((t,f)=>e.jsxs("section",{className:"bg-white dark:bg-[#1b1d27] rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 p-5 sm:p-7",children:[t.title&&e.jsx("h3",{className:`text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-3 ${c?"font-bengali":""} ${n?"font-urdu-nastaliq":""}`,dangerouslySetInnerHTML:{__html:N(t.title)},style:n?{textAlign:"right",fontFamily:"'Noto Nastaliq Urdu', 'JameelNoori', serif"}:{}}),e.jsx("div",{className:`prose prose-sm sm:prose-base dark:prose-invert max-w-none leading-7 prose-a:text-cyan-600 dark:prose-a:text-cyan-400 ${c?"font-bengali":""} ${n?"font-urdu-nastaliq urdu-appendix-content":""}`,dangerouslySetInnerHTML:{__html:t.text||""},style:n?{textAlign:"right",fontSize:"16px",lineHeight:"2.6",fontFamily:"'Noto Nastaliq Urdu', 'JameelNoori', serif"}:{}})]},t.id||f))})]})]})};export{S as default};
