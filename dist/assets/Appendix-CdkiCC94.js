import{u as y,j as e,V as k}from"./index-CQnsQrCL.js";import{d as j,u as v,b as r}from"./react-vendor-v5ei6ytj.js";const n={malayalam:{title:"Malayalam Appendix",description:"Supplementary Malayalam appendix content compiled from Thafheem archives.",apiLanguage:"malayalam"},english:{title:"English Appendix",description:"English appendix articles curated from Thafheem resources.",apiLanguage:"english"},urdu:{title:"Urdu Appendix",description:"Urdu appendix articles curated from Thafheem resources.",apiLanguage:"urdu"},hindi:{title:"Hindi Appendix",description:"Hindi appendix articles curated from Thafheem resources.",apiLanguage:"hindi"},bangla:{title:"Bangla Appendix",description:"Bangla appendix articles curated from Thafheem resources.",apiLanguage:"bangla"}},L=()=>{const{lang:h}=j(),p=v(),{translationLanguage:f}=y(),a=String(h||"english").toLowerCase(),g=a.startsWith("bangla")||a==="bn"||f==="bn",s=r.useMemo(()=>a.startsWith("mal")?n.malayalam:a.startsWith("urdu")||a==="u"?n.urdu:a.startsWith("hindi")||a==="hi"?n.hindi:a.startsWith("bangla")||a==="bn"?n.bangla:n.english,[a]),[l,m]=r.useState([]),[i,x]=r.useState(!0),[d,o]=r.useState(null);r.useEffect(()=>{let t=!0;return(async()=>{try{x(!0),o(null);const c=await k(s.apiLanguage);if(!t)return;m(c.sections||[]),c.error&&o("Unable to fetch appendix content from the server.")}catch{t&&(o("Unable to load appendix content. Please try again later."),m([]))}finally{t&&x(!1)}})(),()=>{t=!1}},[s.apiLanguage]);const b=()=>{window.history.state&&window.history.state.idx>0?p(-1):p("/authorpreface")};return e.jsx("div",{className:"p-6 dark:bg-gray-900 min-h-screen",children:e.jsxs("div",{className:"sm:max-w-[1070px] max-w-[350px] w-full mx-auto font-poppins",children:[e.jsx("button",{onClick:b,className:"text-sm text-cyan-600 dark:text-cyan-400 hover:underline mb-4",children:"â† Back"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white border-b border-gray-300 dark:border-gray-600 pb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:s.description}),i&&e.jsx("div",{className:"py-10 text-center text-gray-600 dark:text-gray-300",children:"Loading appendix..."}),!i&&d&&e.jsx("div",{className:"mb-6 p-4 rounded-lg bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-200",children:d}),!i&&!d&&l.length===0&&e.jsx("div",{className:"py-10 text-center text-gray-600 dark:text-gray-300",children:"Appendix content is not available at the moment."}),!i&&!d&&l.length>0&&e.jsx("div",{className:"space-y-8",children:l.map((t,u)=>e.jsxs("section",{className:"bg-white dark:bg-[#1b1d27] rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 p-5 sm:p-7",children:[t.title&&e.jsx("h3",{className:`text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-3 ${g?"font-bengali":""}`,dangerouslySetInnerHTML:{__html:t.title}}),e.jsx("div",{className:`prose prose-sm sm:prose-base dark:prose-invert max-w-none leading-7 prose-a:text-cyan-600 dark:prose-a:text-cyan-400 ${g?"font-bengali":""}`,dangerouslySetInnerHTML:{__html:t.text||""}})]},t.id||u))})]})})};export{L as default};
