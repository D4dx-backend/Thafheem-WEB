import{g as p,a as f,r as o,j as e,x as c}from"./index-DJ-cZXxg.js";import{B as b}from"./BookmarkNavbar-BQgdkR5n.js";import{S as v}from"./StarNumber-BvdwKvYR.js";import{T as y}from"./trash-2-CfxiFtPh.js";import"./arrow-left-lZrQYBp7.js";const L=()=>{const{user:t}=p(),m=f(),[x,l]=o.useState([]),[u,i]=o.useState(!0),[g,d]=o.useState({});o.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{i(!0);const n=(await c.getBookmarks(t.uid,"block")).map(a=>({id:a.id,number:a.surahId,surah:a.surahName||`Surah ${a.surahId}`,verses:`Verses ${a.blockFrom}-${a.blockTo}`}));l(n)}finally{i(!1)}})()},[t]);const h=async r=>{if(t){d(s=>({...s,[r]:!0}));try{await c.deleteBookmark(r,t.uid),l(s=>s.filter(n=>n.id!==r))}finally{d(s=>({...s,[r]:!1}))}}},k=r=>{m(`/blockwise/${r.number}`)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx("div",{className:"mx-auto min-h-screen p-3 sm:p-4 lg:p-6 bg-white dark:bg-gray-900 font-poppins",children:e.jsx("div",{className:"w-full max-w-[1290px] mx-auto",children:u?e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading bookmarks..."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:x.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg border dark:bg-gray-900 dark:text-white dark:hover:bg-gray-800 border-gray-200 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0 cursor-pointer",onClick:()=>k(r),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(v,{number:r.number})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white truncate hover:text-cyan-600 dark:hover:text-cyan-400 transition-colors",children:r.surah}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:r.verses})]})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),h(r.id)},className:"p-2 text-black dark:text-white dark:hover:bg-transparent hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors flex-shrink-0 min-h-[44px] min-w-[44px] flex items-center justify-center ml-2","aria-label":"Delete bookmark block",children:g[r.id]?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b border-current"}):e.jsx(y,{className:"w-4 h-4 sm:w-[18px] sm:h-[18px]"})})]},r.id))})})})]})};export{L as default};
