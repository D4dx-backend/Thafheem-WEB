import{a as p,j as e,S as b,x}from"./index-D0NMIq43.js";import{u as y,b as o}from"./react-vendor-v5ei6ytj.js";import{B as f}from"./BookmarkNavbar-kgO74Jy4.js";import{T as v}from"./trash-2-8YpYQVA4.js";import"./arrow-left-B3PuUel5.js";const T=()=>{const{user:t}=p(),n=y(),[c,d]=o.useState([]),[h,l]=o.useState(!0),[k,m]=o.useState({});o.useEffect(()=>{(async()=>{if(!t){l(!1);return}try{l(!0);const i=(await x.getBookmarks(t.uid,"block")).map(a=>({id:a.id,number:a.surahId,surah:a.surahName||`Surah ${a.surahId}`,verses:`Verses ${a.blockFrom}-${a.blockTo}`,blockFrom:a.blockFrom,blockTo:a.blockTo}));d(i)}finally{l(!1)}})()},[t]);const g=async r=>{if(t){m(s=>({...s,[r]:!0}));try{await x.deleteBookmark(r,t.uid),d(s=>s.filter(i=>i.id!==r))}finally{m(s=>({...s,[r]:!1}))}}},u=r=>{n(`/blockwise/${r.number}`,{state:{scrollToBlock:`${r.blockFrom}-${r.blockTo}`,viewType:"Block Wise"}})};return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx("div",{className:"mx-auto min-h-screen p-3 sm:p-4 lg:p-6 bg-white dark:bg-gray-900 font-poppins",children:e.jsx("div",{className:"w-full max-w-[1290px] mx-auto",children:h?e.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"Loading bookmarks..."}):c.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"mb-6",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"No block bookmarks yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start reading and bookmark your favorite verses to see them here."}),e.jsx("button",{onClick:()=>n("/"),className:"px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors font-medium",children:"Start Reading"})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:c.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg border dark:bg-gray-900 dark:text-white dark:hover:bg-gray-800 border-gray-200 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0 cursor-pointer",onClick:()=>u(r),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(b,{number:r.number})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white truncate hover:text-cyan-600 dark:hover:text-cyan-400 transition-colors",children:r.surah}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:r.verses})]})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),g(r.id)},className:"p-2 text-black dark:text-white dark:hover:bg-transparent hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors flex-shrink-0 min-h-[44px] min-w-[44px] flex items-center justify-center ml-2","aria-label":"Delete bookmark block",children:k[r.id]?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b border-current"}):e.jsx(v,{className:"w-4 h-4 sm:w-[18px] sm:h-[18px]"})})]},r.id))})})})]})};export{T as default};
