import{u as m,j as e,a5 as g}from"./index-DmadXW_T.js";import{b as a,u as b}from"./react-vendor-v5ei6ytj.js";const p=()=>{const[i,c]=a.useState(!0),[n,o]=a.useState(!1),[l,t]=a.useState(null),d=b(),{user:r}=m(),u=()=>{c(!1),d(-1)},x=async()=>{if(!r){t("No user is currently signed in");return}o(!0),t(null);try{await g(r),localStorage.clear(),d("/",{replace:!0})}catch(s){console.error("Error deleting account:",s),s.code==="auth/requires-recent-login"?t("For security reasons, please sign in again before deleting your account."):s.code==="auth/user-not-found"?t("User account not found."):t("Failed to delete account. Please try again.")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center font-poppins",children:i&&e.jsx("div",{className:"fixed inset-0 bg-gray-500/70 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl p-6 w-96 max-w-md mx-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Delete Account"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4 dark:text-white",children:"Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data including bookmarks and settings."}),l&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md dark:bg-red-900/20 dark:border-red-800",children:e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:l})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 text-gray-700 border dark:text-white dark:hover:bg-[#2A2C38] border-gray-300 rounded hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:n||!r,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Deleting..."]}):"Delete Account"})]})]})})})};export{p as default};
