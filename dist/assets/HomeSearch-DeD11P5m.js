import{u as ye,b as _,c as be,j as a,l as ve,P as we,s as ke,d as je,e as Ne}from"./index-CQnsQrCL.js";import{b as u,u as Se}from"./react-vendor-v5ei6ytj.js";import{l as Ce}from"./logo-BkkAvDQp.js";import{g as H,L as Te}from"./readingProgressService-DFoY0i0J.js";const $e="/assets/banner-3CoDmLuj.png",Re=({className:x})=>a.jsx("svg",{className:x,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),te=({className:x})=>a.jsx("svg",{className:x,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),ne=({className:x})=>a.jsx("svg",{className:x,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),A=({className:x})=>a.jsx("svg",{className:x,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),Ie=({className:x})=>a.jsx("svg",{className:x,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),B=(x="")=>x.replace(/\s*:\s*/g,":").replace(/\s+/g," ").trim(),z=(x="")=>{const N=/^(\d{1,3}):(\d{1,3})$/.exec(x);if(!N)return null;const K=N[1].replace(/^0+/,"")||"0",R=N[2].replace(/^0+/,"")||"0";return{surah:K,verse:R}},De=()=>{const{theme:x,setViewType:N,translationLanguage:K}=ye(),[R,M]=u.useState(!1),[D,b]=u.useState(""),[S,g]=u.useState([]),[W,m]=u.useState(!1),[O,I]=u.useState(!1),[Q,w]=u.useState(null),[U,G]=u.useState([]),[X,Y]=u.useState(!1),[J,q]=u.useState(null),[Z,P]=u.useState(null),[F,L]=u.useState(null),C=Se(),p=u.useRef(null),T=u.useRef(!1),k=u.useRef(!1),V=u.useRef(0),E=u.useRef(0),v=u.useRef(!1);u.useEffect(()=>{ae(),_().then(e=>{L(e)}).catch(e=>{console.warn("Failed to preload surahs:",e)})},[]),u.useEffect(()=>(R||W?(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"):(document.body.style.overflow="",document.body.style.paddingRight=""),()=>{document.body.style.overflow="",document.body.style.paddingRight=""}),[R,W]),u.useEffect(()=>{P(H());const e=s=>{s.key&&s.key!==Te||P(H())};return typeof window<"u"&&window.addEventListener("storage",e),()=>{typeof window<"u"&&window.removeEventListener("storage",e)}},[]);const le=e=>{T.current=!0,k.current=!1,V.current=e.pageX-p.current.offsetLeft,E.current=p.current.scrollLeft,p.current.style.cursor="grabbing",p.current.style.userSelect="none"},oe=e=>{if(!T.current)return;e.preventDefault();const o=(e.pageX-p.current.offsetLeft-V.current)*2;Math.abs(o)>6&&(k.current=!0),p.current.scrollLeft=E.current-o},ee=()=>{T.current=!1,p.current&&(p.current.style.cursor="grab",p.current.style.userSelect="")},ie=e=>{T.current=!0,k.current=!1,V.current=e.touches[0].pageX-p.current.offsetLeft,E.current=p.current.scrollLeft},ce=e=>{if(!T.current)return;const o=(e.touches[0].pageX-p.current.offsetLeft-V.current)*2;Math.abs(o)>6&&(k.current=!0),p.current.scrollLeft=E.current-o},de=()=>{T.current=!1},ae=async()=>{Y(!0),q(null);try{const e=await be("en");G(e)}catch(e){console.error("Error fetching popular data:",e),q("Failed to load popular content"),G([{id:67,name:"Al-Mulk",verses:"30 verses",type:"Makki"},{id:2,name:"Al-Baqarah",verses:"286 verses",type:"Madani"},{id:1,name:"Al-Fatiha",verses:"7 verses",type:"Makki"},{id:18,name:"Al-Kahf",verses:"110 verses",type:"Makki"},{id:36,name:"Ya-Sin",verses:"83 verses",type:"Makki"},{id:55,name:"Ar-Rahman",verses:"78 verses",type:"Makki"},{id:112,name:"Al-Ikhlas",verses:"4 verses",type:"Makki"},{id:114,name:"An-Nas",verses:"6 verses",type:"Makki"}])}finally{Y(!1)}},se=async e=>{const s=e.toLowerCase().trim();if(/^\d+$/.test(s)){const l=parseInt(s,10);if(l>=1&&l<=114)return{number:l,name:`Surah ${l}`}}let n=F;if(!n)try{n=await _(),L(n)}catch(l){return console.warn("Failed to fetch surahs for name matching:",l),null}if(!n||n.length===0)return null;const t=n.find(l=>l.name?.toLowerCase()===s||l.number?.toString()===s||l.arabic?.toLowerCase()===s);if(t)return t;const i=n.find(l=>l.name?.toLowerCase().startsWith(s)||l.arabic?.toLowerCase().startsWith(s));return i||null},re=async e=>{const s=B(e);if(!s){m(!1),g([]),w(null);return}if(!z(s)){v.current=!1,I(!0),w(null),m(!0);try{const t={E:"english",mal:"malayalam",ta:"tamil",bn:"bangla",ur:"urdu",hi:"hindi"}[K]||"malayalam",i=[ke(s,t,15).catch(r=>(console.warn(`Word search failed for ${t}:`,r),{language:t,results:[]})),je(s,15).catch(r=>(console.warn("Arabic phrase search failed:",r),[]))],[l,d]=await Promise.all(i),c=(l.results||[]).map(r=>{const h=typeof r.surah=="number"?r.surah:parseInt(String(r.surah),10),y=typeof r.ayah=="number"?r.ayah:parseInt(String(r.ayah),10);return!h||!y||isNaN(h)||isNaN(y)?(console.warn("Invalid surah/ayah in result:",{item:r,surah:h,ayah:y,language:l.language}),null):{type:"word_search",language:l.language,surah:h,ayah:y,displayText:r.matchedText||"",subText:`${l.language} ‚Ä¢ Surah ${h}:${y}`,arabicWord:r.arabicWord||"",matchedText:r.matchedText||""}}).filter(r=>r!==null&&r.surah>0&&r.ayah>0);let f=[];Array.isArray(d)&&d.length>0&&(f=d.map(r=>{const h=r.SuraID||r.suraid||r.SuraId||r.surah||r.Sura,y=r.AyaID||r.ayaid||r.AyaId||r.ayah||r.Aya,j=r.AyaHText||r.text_uthmani||r.Text||r.text||r.AyaText||"";return{type:"word_search",language:"arabic",surah:parseInt(h)||0,ayah:parseInt(y)||0,displayText:j,subText:`arabic ‚Ä¢ Surah ${h}:${y}`,matchedText:s}}).filter(r=>r.surah>0&&r.ayah>0));const $=[];try{const r=await Ne(s);r&&r.length>0&&$.push(...r.map(h=>({type:"surah",data:h,displayText:`${h.number}. ${h.name}`,subText:`${h.ayahs} verses ‚Ä¢ ${h.type}`,arabicText:h.arabic})))}catch{}g(r=>[...(r||[]).filter(j=>j.type==="verse_reference"||j.type==="surah"),...$,...c,...f].slice(0,25)),g(r=>{const h=(r||[]).filter(j=>j.type==="verse_reference"||j.type==="surah"),y=[...h,...$,...c,...f];return console.log("üìä Search results:",{selectedLanguage:t,wordResults:c.length,arabicResults:f.length,surahResults:$.length,existingResults:h.length,total:y.length,sampleWordResult:c[0],allWordResults:c}),y.slice(0,25)})}catch{w("Failed to search. Please try again."),g([])}finally{I(!1)}}},he=e=>{const s=e.target.value,o=B(s);if(b(s),o.length<1){m(!1),g([]),w(null),v.current=!1;return}v.current=!1,m(!1)},ue=(e,s)=>{s&&(s.preventDefault(),s.stopPropagation()),console.log("üîç Click handler called:",{type:e.type,language:e.language,surah:e.surah,ayah:e.ayah,fullResult:e}),v.current=!0;const o=s?.ctrlKey||s?.metaKey;if(e.type==="word_search"){const n=typeof e.surah=="number"?e.surah:parseInt(String(e.surah||""),10),t=typeof e.ayah=="number"?e.ayah:parseInt(String(e.ayah||""),10);if(console.log("‚úÖ Navigating to word search result:",{surah:n,ayah:t,language:e.language,originalResult:e}),!n||!t||isNaN(n)||isNaN(t)||n<1||n>114||t<1){console.warn("Invalid surah or ayah:",{surah:n,ayah:t,result:e});return}const i=`/surah/${n}#verse-${t}`;if(o){s?.preventDefault(),window.open(i,"_blank","noopener,noreferrer");return}sessionStorage.setItem("scrollToVerse",t.toString()),sessionStorage.setItem("navigationState",JSON.stringify({viewType:"Ayah Wise",highlightVerse:`${n}:${t}`,scrollToVerse:t})),m(!1),b(""),g([]),window.location.href=i}else if(e.type==="surah"){let n=e.data?.number??e.data?.id??e.data?.chapter_id??e.data?.code??null;if(typeof n=="string"&&(n=n.replace(/^0+/,"")),!n){console.warn("Unable to determine surah number from search result:",e);return}const i=`/surah/${n.toString()}`;if(o){s?.preventDefault(),window.open(i,"_blank","noopener,noreferrer");return}m(!1),b(""),g([]),C(i)}else if(e.type==="verse"||e.type==="verse_reference"){const n=e.surah||(e.verse_key?parseInt(e.verse_key.split(":")[0],10):null),t=e.ayah||e.verse||(e.verse_key?parseInt(e.verse_key.split(":")[1],10):null);if(!n||!t){console.warn("Invalid verse reference:",e);return}const i=`/surah/${n}#verse-${t}`,l=e.verse_key||`${n}:${t}`;if(o){s?.preventDefault(),window.open(i,"_blank","noopener,noreferrer");return}sessionStorage.setItem("scrollToVerse",t.toString()),sessionStorage.setItem("navigationState",JSON.stringify({viewType:"Ayah Wise",highlightVerse:l,scrollToVerse:t})),m(!1),b(""),g([]),window.location.href=i}m(!1),b(""),g([])},xe=async e=>{e.preventDefault();const s=B(D);if(!s){m(!1),g([]),w(null);return}v.current=!1,I(!0),w(null),m(!0),b(s);try{const o=[],n=z(s);if(n){const l=parseInt(n.surah,10),d=parseInt(n.verse,10);if(l>=1&&l<=114&&d>=1){let c=F;if(!c)try{c=await _(),L(c)}catch(h){console.warn("Failed to fetch surahs:",h)}const f=c?.find(h=>h.number===l),$=f?.name||`Surah ${l}`,r=f?.arabic||"";o.push({type:"verse_reference",surah:l,ayah:d,displayText:`${$} - Verse ${d}`,subText:`Surah ${l}:${d}`,arabicText:r,verse_key:`${l}:${d}`})}}const t=/^\d+$/.test(s);if(t){const l=parseInt(s,10);if(l>=1&&l<=114){let d=F;if(!d)try{d=await _(),L(d)}catch(f){console.warn("Failed to fetch surahs:",f)}const c=d?.find(f=>f.number===l);c&&o.push({type:"surah",data:c,displayText:`${c.number}. ${c.name}`,subText:`${c.ayahs} verses ‚Ä¢ ${c.type}`,arabicText:c.arabic})}}const i=await se(s);if(i&&!t){const l=i.number||i.id;if(l>=1&&l<=114){let d=F;if(!d)try{d=await _(),L(d)}catch(f){console.warn("Failed to fetch surahs:",f)}const c=d?.find(f=>f.number===l);c&&o.push({type:"surah",data:c,displayText:`${c.number}. ${c.name}`,subText:`${c.ayahs} verses ‚Ä¢ ${c.type}`,arabicText:c.arabic})}}if(o.length>0){g(o),I(!1);const l=z(s),d=/^\d+$/.test(s);!l&&!d&&re(s).catch(()=>{})}else await re(s)}catch{w("Failed to search. Please try again."),g([]),I(!1)}},me=()=>{C("/bookmarkedverses")},fe=()=>{const e=H();if(!e){P(null);return}P(e),e.viewType==="blockwise"?N?.("Block Wise"):e.viewType==="surah"&&N?.("Ayah Wise");const s=e.path||(e.surahId?`/surah/${e.surahId}`:"/reading");C(s)},ge=async()=>{setTimeout(async()=>{if(v.current)return;const e=B(D);if(!e){m(!1);return}const s=z(e);if(s){const t=parseInt(s.surah,10),i=parseInt(s.verse,10);if(t>=1&&t<=114&&i>=1){const l=`/surah/${t}#verse-${i}`;sessionStorage.setItem("scrollToVerse",i.toString()),sessionStorage.setItem("navigationState",JSON.stringify({viewType:"Ayah Wise",highlightVerse:`${t}:${i}`,scrollToVerse:i})),window.location.href=l;return}}if(/^\d+$/.test(e)){const t=parseInt(e,10);if(t>=1&&t<=114){C(`/surah/${t}`),b("");return}}const n=await se(e);if(n){const t=n.number||n.id;if(t>=1&&t<=114){C(`/surah/${t}`),b("");return}}s&&e.trim().length>0,m(!1)},200)},pe=(e,s)=>{if(k.current){k.current=!1;return}const o=e?.id??e?.chapter_id;if(!o)return;const n=e?.verseKey||e?.verse_key,t=e?.verseNumber??e?.verse_number??(typeof n=="string"?n.split(":")[1]:void 0),i=`/surah/${o}`,l=s?.ctrlKey||s?.metaKey,d=t||n?{...t?{scrollToVerse:t}:{},...n?{highlightVerse:n}:{}}:void 0;l?(s?.preventDefault(),window.open(i,"_blank","noopener,noreferrer")):C(i,{state:d}),M(!1),k.current=!1};return a.jsxs("div",{className:"flex flex-col items-center justify-center bg-white dark:bg-gray-900 px-4 py-6 sm:py-8 lg:py-12",children:[a.jsx("div",{className:"w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-2xl xl:max-w-4xl mb-6 sm:mb-8 mx-auto",children:a.jsx("a",{href:"https://app.thafheem.net/",target:"_blank",rel:"noopener noreferrer",className:"block cursor-pointer hover:opacity-90 transition-opacity",children:a.jsx("img",{src:$e,alt:"Banner",className:"w-full h-auto object-contain rounded-xl"})})}),a.jsx("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mb-8 sm:mb-10 mx-auto",children:a.jsx("div",{className:"w-full h-20 sm:h-24 md:h-28 lg:h-32 rounded-lg flex items-center justify-center",children:a.jsx("img",{src:x==="dark"?ve:Ce,alt:"Logo",className:"object-contain transition-transform h-16 sm:h-20 md:h-24 lg:h-28 max-w-[260px] sm:max-w-[300px] md:max-w-[360px] lg:max-w-[400px] w-auto"})})}),a.jsxs("div",{className:"w-full max-w-xl sm:max-w-2xl md:max-w-3xl mb-8 sm:mb-10 relative",children:[a.jsxs("form",{onSubmit:xe,className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(Re,{className:"h-5 w-5 text-gray-400 dark:text-white"})}),a.jsx("input",{type:"text",value:D,onChange:he,onBlur:ge,placeholder:"Search surahs, verses, or try '2:255' for specific verses...",className:"w-full h-[49px] pl-12 pr-12 py-4 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent bg-white dark:bg-[#2A2C38] dark:border-gray-600 dark:text-white shadow-sm text-gray-700 placeholder-gray-400 text-base"})]}),W&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/40 z-[300] backdrop-blur-sm",onClick:()=>{m(!1),g([]),b(""),v.current=!0}}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-[#2A2C38] rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-600 w-[95vw] max-w-xl sm:max-w-2xl md:max-w-3xl z-[310] max-h-[85vh] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-medium font-poppins text-gray-900 dark:text-white",children:"Search Results"}),a.jsx("button",{onClick:()=>{m(!1),g([]),b(""),v.current=!0},className:"text-gray-500 dark:text-white hover:text-gray-700 dark:hover:text-gray-300 transition-colors p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(ne,{className:"h-5 w-5"})})]})}),a.jsxs("div",{className:"overflow-y-auto flex-1 p-4",children:[O&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-500"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Searching..."})]}),Q&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-red-500 dark:text-red-400",children:Q})}),!O&&!Q&&S.length===0&&D.length>=2&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No results found"})}),!O&&S.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:["Found ",S.filter(e=>e.type==="surah").length," surahs, ",S.filter(e=>e.type==="verse"||e.type==="verse_reference").length," verses, ",S.filter(e=>e.type==="word_search").length," word matches"]}),S.map((e,s)=>a.jsx("div",{onMouseDown:o=>{o.preventDefault(),o.stopPropagation(),console.log("üñ±Ô∏è Div clicked:",{result:e,index:s}),ue(e,o)},onClick:o=>{o.preventDefault(),o.stopPropagation()},className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer transition-colors",children:e.type==="word_search"?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-xs font-medium text-cyan-600 dark:text-cyan-400 uppercase",children:e.language}),a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.subText})]}),a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.displayText}),e.arabicWord&&a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mt-1",dir:"rtl",children:e.arabicWord})]}),a.jsx(A,{className:"h-4 w-4 text-gray-400 ml-2 flex-shrink-0"})]}):e.type==="surah"?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-cyan-600 dark:text-cyan-400",children:"Surah"}),a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.subText})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.displayText}),a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 ml-4",dir:"rtl",children:e.arabicText})]})]}),a.jsx(A,{className:"h-4 w-4 text-gray-400 ml-2 flex-shrink-0"})]}):e.type==="verse_reference"?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-cyan-600 dark:text-cyan-400",children:"Verse Reference"}),a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.subText})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.displayText}),e.arabicText&&a.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 ml-4",dir:"rtl",children:e.arabicText})]})]}),a.jsx(A,{className:"h-4 w-4 text-gray-400 ml-2 flex-shrink-0"})]}):a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-cyan-600 dark:text-cyan-400",children:"Verse"}),a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.surahName}),e.surahType&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.surahType})]}),a.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full"}),a.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:["Verse ",e.verseNumber]})]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1 pr-3",children:a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-3 leading-relaxed",children:e.displayText})}),e.surahArabic&&a.jsx("div",{className:"text-right",dir:"rtl",children:a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:e.surahArabic})})]})]}),a.jsx(A,{className:"h-4 w-4 text-gray-400 ml-2 flex-shrink-0"})]})},`${e.type}-${s}-${e.surah||e.data?.number||s}`))]})]})]})]}),R&&!W&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/40 z-[300] backdrop-blur-sm",onClick:()=>M(!1)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-[#2A2C38] rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-600 w-[95vw] max-w-lg sm:max-w-xl md:max-w-2xl z-[310] max-h-[85vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-1.5",children:[a.jsx(te,{className:"h-5 w-5 text-cyan-500"}),a.jsx("h2",{className:"sm:text-[15px] font-semibold font-poppins text-gray-600 dark:text-[#95959b]",children:"Popular"})]}),a.jsx("button",{onClick:()=>M(!1),className:"text-[#323A3F] dark:text-white transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 p-1 rounded-lg",children:a.jsx(ne,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"overflow-y-auto flex-1 p-3 sm:p-4 space-y-3",children:[a.jsx("h3",{className:"text-base font-medium font-poppins text-gray-900 dark:text-white",children:"Chapters and Verses"}),X&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-500"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Loading popular content..."})]}),J&&a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-red-500 dark:text-red-400",children:J})}),!X&&!J&&a.jsx(a.Fragment,{children:a.jsx("div",{ref:p,className:"flex gap-2.5 mb-3 overflow-x-auto scrollbar-hide pr-3 border-b border-gray-200 dark:border-gray-700 pb-2.5 cursor-grab",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},onMouseDown:le,onMouseMove:oe,onMouseUp:ee,onMouseLeave:ee,onTouchStart:ie,onTouchMove:ce,onTouchEnd:de,children:U.map((e,s)=>a.jsxs("button",{type:"button",onClick:o=>pe(e,o),className:"inline-flex font-poppins items-center space-x-2.5 px-3.5 py-2.5 bg-[#D8D8D8] dark:bg-gray-900 dark:text-white dark:hover:bg-gray-800 hover:bg-gray-200 rounded-lg transition-colors text-xs sm:text-sm text-gray-700 flex-shrink-0 min-w-fit shadow pointer-events-auto",style:s===U.length-1?{marginRight:"1rem"}:{},title:`${e.translated_name||e.name} - ${e.verses} (${e.type})`,children:[a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsxs("span",{className:"font-medium",children:[e.id,". ",e.name]}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.verses," ‚Ä¢ ",e.type]})]}),a.jsx(A,{className:"h-3.5 w-3.5 ml-1.5"})]},`${e.id??e.chapter_id}-${s}`))})})]})]})]})]}),a.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-4 w-full max-w-4xl px-2",children:a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-3 sm:gap-4 w-full",children:[a.jsxs("button",{type:"button",onClick:fe,disabled:!Z,title:Z?"Jump back to your last reading session":"Start reading any Surah to enable this shortcut",className:"flex items-center space-x-2 px-6 py-3 bg-white dark:bg-[#2A2C38] text-[#62C3DC] dark:text-cyan-200 rounded-full shadow-md transition-all duration-200 text-sm hover:bg-[#62C3DC] hover:text-white hover:shadow-lg disabled:opacity-60 disabled:cursor-not-allowed disabled:pointer-events-none dark:hover:bg-[#3FA6C0] dark:hover:text-white [&_svg]:transition-colors [&_svg]:duration-200 [&:hover_svg]:text-white",children:[a.jsx(we,{className:"h-4 w-4 text-[#3FA6C0]"}),a.jsx("span",{className:"font-medium whitespace-nowrap font-poppins",children:"Continue Reading"})]}),a.jsxs("button",{onClick:me,className:"flex items-center space-x-2 px-6 py-3 bg-white dark:bg-[#2A2C38] text-[#62C3DC] dark:text-cyan-200 rounded-full shadow-md transition-all duration-200 text-sm hover:bg-[#62C3DC] hover:text-white hover:shadow-lg flex-shrink-0 dark:hover:bg-[#3FA6C0] dark:hover:text-white [&_svg]:transition-colors [&_svg]:duration-200 [&:hover_svg]:text-white",children:[a.jsx(Ie,{className:"h-4 w-4 text-[#3FA6C0]"}),a.jsx("span",{className:"font-medium whitespace-nowrap font-poppins",children:"Bookmarks"})]}),a.jsxs("button",{onClick:()=>{M(!0),U.length===0&&!X&&ae()},className:"flex items-center space-x-2 px-6 py-3 bg-white dark:bg-[#2A2C38] text-[#62C3DC] dark:text-cyan-200 rounded-full shadow-md transition-all duration-200 text-sm hover:bg-[#62C3DC] hover:text-white hover:shadow-lg flex-shrink-0 dark:hover:bg-[#3FA6C0] dark:hover:text-white [&_svg]:transition-colors [&_svg]:duration-200 [&:hover_svg]:text-white",children:[a.jsx(te,{className:"h-4 w-4 text-[#3FA6C0]"}),a.jsx("span",{className:"font-medium whitespace-nowrap font-poppins",children:"Popular"})]})]})})]})};export{De as H};
