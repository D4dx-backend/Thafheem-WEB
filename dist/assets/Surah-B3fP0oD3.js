import{u as Za,g as Xa,d as et,a as at,b as tt,r as n,j as e,C as st,P as rt,B as nt,n as ot,o as lt,p as ta,q as sa,t as ra,v as na,f as oa,w as la,x as K}from"./index-BMIAMJ2S.js";import{W as it,A as ct}from"./WordByWord-jcr3aTZE.js";import{V as ia,D as ca,B as da,A as fe}from"./LoadingSkeleton-CYX4cX91.js";import{W as dt}from"./WordByWordIcon-C1MNQ2Dq.js";import{u as ht,T as ut}from"./Toast-hgqkhZCU.js";import O from"./tamilTranslationService-CFME1no4.js";import re from"./hindiTranslationService-C7DZVBgF.js";import ye from"./urduTranslationService-BXqK4Yjb.js";import be from"./banglaTranslationService-ByBH3qbp.js";import we from"./englishTranslationService-4zs7-gXX.js";import{A as ha,B as ua}from"./ViewToggleIcons-CDYDORcl.js";import mt from"./StickyAudioPlayer-CuthTrXn.js";import{s as xt}from"./readingProgressService-DFoY0i0J.js";import{g as pt,s as ma}from"./surahNameUtils-CNmXwDjY.js";import{C as xa}from"./chevron-left-DDzfuR59.js";import"./tamilWordByWordService-CbdEWK98.js";import"./hindiWordByWordService-C4orOXOT.js";import"./banglaWordByWordService-CCV5metC.js";import"./apiService-xUHHIAvd.js";import"./volume-x-C6ZEY_RJ.js";import"./volume-2-C53T7naH.js";import"./skip-forward-on6WBx6y.js";import"./surahNameUnicodes-C_pntk6C.js";const gt={"al-ghamidi":"G","al-afasy":"A","al-hudaify":"H"};function ft({ayahNumber:V,surahNumber:z,audioType:k="qirath",qariName:u="al-afasy"}){const $=String(z).padStart(3,"0"),S=String(V).padStart(3,"0");if(k==="translation")return`https://old.thafheem.net/audio/translation/T${$}_${S}.ogg`;if(k==="interpretation")return`https://old.thafheem.net/audio/interpretation/I${$}_${S}.ogg`;const v=`Q${gt[u]||"A"}`;return`https://old.thafheem.net/audio/qirath/${u}/${v}${$}_${S}.ogg`}function yt({ayahNumber:V,surahNumber:z,audioType:k="qirath",qariName:u="al-afasy",playbackSpeed:$=1,onStart:S,onEnd:F,onError:v}){const j=ft({ayahNumber:V,surahNumber:z,audioType:k,qariName:u}),s=new Audio(j);return s.preload="none",s.playbackRate=$,s.onplay=()=>{typeof S=="function"&&S()},typeof F=="function"&&(s.onended=F),typeof v=="function"&&(s.onerror=v),s.play().catch(T=>{typeof v=="function"&&v(T)}),s}const pa=20,Ot=()=>{const{quranFont:V,fontSize:z,translationFontSize:k,translationLanguage:u,theme:$,viewType:S,setViewType:F}=Za(),v=u==="mal"||u==="E",{user:j}=Xa(),{surahId:s}=et(),T=at(),G=tt(),{pathname:ke}=G,{toasts:ga,removeToast:fa,showSuccess:I,showError:E}=ht(),ve=n.useCallback(()=>{v&&F("Block Wise")},[F,v]);n.useEffect(()=>{if(!v&&S!=="Ayah Wise"){F("Ayah Wise");return}if(v&&S==="Block Wise"){const a=`/blockwise/${s}`;ke!==a&&T(a)}},[S,v,s,T,ke,F]);const Y=new URLSearchParams(G.search).get("fromJuz"),[ya,Z]=n.useState(null),[ba,X]=n.useState(!1),[wa,U]=n.useState(null),[ka,je]=n.useState(!1),[va,Ne]=n.useState(null),[w,y]=n.useState([]),[Se,Te]=n.useState([]),[ne,Ae]=n.useState(null),[A,M]=n.useState(!0),[bt,wt]=n.useState(0),[Ee,R]=n.useState(null),[oe,le]=n.useState(new Set),[ie,Ce]=n.useState({}),[W,$e]=n.useState(!1),[ja,Fe]=n.useState(!1),[kt,Ie]=n.useState(!1),[vt,jt]=n.useState(!1),[Le,Be]=n.useState(!1),[Na,ce]=n.useState(""),[Sa,Pe]=n.useState(!1),[Ta,Me]=n.useState(!1),[Aa,ee]=n.useState(""),[Ea,Re]=n.useState(!1),[Ca,We]=n.useState(!1),[$a,de]=n.useState(""),[Fa,De]=n.useState(!1),[Ia,_e]=n.useState(!1),[La,he]=n.useState(""),[Ba,He]=n.useState(!1),[b,ae]=n.useState(null),[ue,Pa]=n.useState("al-afasy"),[me,Ma]=n.useState(["quran"]),[te,Ra]=n.useState(1),[Nt,L]=n.useState(0),[g,Ve]=n.useState(null),[ze,N]=n.useState(!1),B=n.useRef(null);n.useRef(new Map);const[C,Ue]=n.useState(0),[P,xe]=n.useState(0),[q,qe]=n.useState(!1),Qe=n.useRef(null);n.useEffect(()=>{s&&xt({surahId:s,viewType:"surah",path:`/surah/${s}`})},[s]);const Wa=a=>{const t=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];return a.toString().split("").map(o=>t[o]||o).join("")},se=n.useCallback(async(a,t,o=!1)=>{if(!s||u!=="ur")return;const i=parseInt(s,10);if(!Number.isNaN(i)){qe(!0);try{const x=Array.from({length:t-a+1},(r,m)=>a+m),h=await Promise.all(x.map(async r=>{const m=await ye.getAyahTranslation(i,r)||"",c=ye.parseUrduTranslationWithClickableFootnotes(m,i,r);return{number:r,ArabicText:"",Translation:c,RawTranslation:m}}));y(r=>o?h:[...r,...h]),xe(t)}catch(x){throw o&&y([]),console.error(`Error fetching Urdu translations for ayahs ${a}-${t}:`,x),x}finally{qe(!1)}}},[s,u]),Je=n.useCallback(async()=>{if(u!=="ur"||q||P>=C)return;const a=P+1,t=Math.min(P+pa,C);try{await se(a,t)}catch{E?.("Failed to load more Urdu ayahs. Please try again.")}},[q,se,C,E,P,u]);n.useEffect(()=>{if(u!=="ur")return;const a=Qe.current;if(!a)return;const t=new IntersectionObserver(o=>{o[0]?.isIntersecting&&!q&&P<C&&Je()},{root:null,rootMargin:"200px",threshold:.1});return t.observe(a),()=>{t.disconnect()}},[Je,q,C,u,P]);const pe=n.useRef(null);n.useEffect(()=>{const a=()=>{pe.current&&pe.current()};return window.addEventListener("playAudio",a),()=>{window.removeEventListener("playAudio",a)}},[]),n.useEffect(()=>{const t=new URLSearchParams(G.search).get("wordByWord");if(t){const o=parseInt(t)||1,i=setTimeout(()=>{U(o),X(!0);const x=new URL(window.location);x.searchParams.delete("wordByWord"),window.history.replaceState({},"",x.pathname)},500);return()=>clearTimeout(i)}},[G.search,A]),n.useEffect(()=>{if(u==="hi"&&w.length>0&&!A){const a=[200,500,1e3,2e3].map(t=>setTimeout(()=>{document.querySelectorAll("p[data-hindi-translation]").forEach((i,x)=>{const h=i.getAttribute("data-hindi-translation"),r=i.getAttribute("data-surah"),m=i.getAttribute("data-ayah"),c=i.innerHTML,l=h&&(h.includes('<sup class="f-note">')||h.includes("<sup>")),d=c.includes('<sup class="f-note">')||c.includes("<sup>"),p=!i.querySelector(".hindi-footnote-link");if((l||d)&&p){const f=re.parseHindiTranslationWithClickableExplanations(h||c,parseInt(r),parseInt(m));i.innerHTML=f}})},t));return()=>a.forEach(t=>clearTimeout(t))}},[u,w,A]),n.useEffect(()=>()=>{B.current&&(B.current.pause(),B.current.src="",B.current.currentTime=0,B.current.onended=null,B.current.onerror=null,B.current=null)},[]),n.useEffect(()=>{B.current=g},[g]),n.useEffect(()=>{(async()=>{if(s)try{M(!0),R(null);const[t,o,i,x]=await Promise.all([sa(),ra(),na(parseInt(s)),oa()]);let r=((l,d)=>{const p=d.filter(H=>H.SuraId===parseInt(l));return p.length===0?7:Math.max(...p.map(H=>H.ayato))})(s,x||[]);if(r===7&&t&&Array.isArray(t)){const l=t.find(d=>d.id===parseInt(s));l&&l.ayahs&&(r=l.ayahs)}if(u!=="ur"&&(Ue(0),xe(0)),u==="ta")try{const l=await O.getSurahTranslations(parseInt(s));if(l&&l.length>0)y(l);else{const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:`Tamil translation not available for verse ${f+1}`}));y(d)}}catch(l){console.error("Error fetching Tamil translations:",l);const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:"Tamil translation service unavailable. Please try again later."}));y(d)}else if(u==="hi")try{const l=await re.getSurahTranslations(parseInt(s));l&&l.length>0?y(l):(console.warn("No Hindi translations found"),y([]))}catch(l){console.error("Error fetching Hindi translations:",l);const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:"Hindi translation service unavailable. Please try again later."}));y(d)}else if(u==="ur")try{if(Ue(r),xe(0),y([]),r>0){const l=Math.min(pa,r);await se(1,l,!0)}}catch(l){console.error("Error fetching Urdu translations:",l);const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:"Urdu translation service unavailable. Please try again later."}));y(d)}else if(u==="bn")try{const l=await be.getSurahTranslations(parseInt(s));if(l&&l.length>0){const d=l.map(p=>({...p,Translation:be.parseBanglaTranslationWithClickableExplanations(p.Translation,parseInt(s),p.number)}));y(d)}else{const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:`Bangla translation not available for verse ${f+1}`}));y(d)}}catch(l){console.error("Error fetching Bangla translations:",l);const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:"Bangla translation service unavailable. Please try again later."}));y(d)}else if(u==="E")try{const l=await we.getSurahTranslations(parseInt(s));if(l&&l.length>0){const d=l.map(p=>({...p,Translation:we.parseEnglishTranslationWithClickableFootnotes(p.Translation,parseInt(s),p.number),interpretationCount:0}));y(d)}else{const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:`English translation not available for verse ${f+1}`}));y(d)}}catch(l){console.error("Error fetching English translations:",l);const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:"English translation service unavailable. Please try again later."}));y(d)}else{const l=await la(parseInt(s));if(!l||!Array.isArray(l)||l.length===0){const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:`Translation not available for verse ${f+1}. The API server may be temporarily unavailable. Please try again later.`}));y(d)}else{const d=l.map(p=>({number:p.contiayano||0,ArabicText:"",Translation:(p.AudioText||"").replace(/<sup[^>]*foot_note[^>]*>\d+<\/sup>/g,"").replace(/\s+/g," ").trim()}));y(d)}}Te(i||[]);const m=t.find(l=>l.id===parseInt(s)),c=o.find(l=>l.number===parseInt(s));Ae(m?{arabic:m.arabic,number:m.id,type:c?.type||"Makki"}:{arabic:"Unknown Surah",number:parseInt(s),type:"Makki"})}catch(t){R(t.message),console.error("Error fetching surah data:",t)}finally{M(!1)}})()},[s,u,se]),n.useEffect(()=>{(async()=>{if(!(!j||!s))try{const t=await K.getBookmarks(j.uid,"translation"),o=new Set(t.filter(i=>i.surahId===parseInt(s)).map(i=>`${i.surahId}:${i.verseId}`));le(o)}catch(t){console.error("Error loading bookmarks:",t)}})()},[j,s]),n.useEffect(()=>{(async()=>{if(!j||!s){Ie(!1);return}try{const t=await K.isFavorited(j.uid,s);Ie(t)}catch(t){console.error("Error loading favorite status:",t)}})()},[j,s]),n.useEffect(()=>{const a=()=>{const t=window.location.hash;if(t&&t.startsWith("#verse-")){const o=parseInt(t.replace("#verse-",""));o&&!A&&w.length>0&&setTimeout(()=>{const i=document.getElementById(`verse-${o}`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.style.backgroundColor="#fef3c7",setTimeout(()=>{i.style.backgroundColor=""},2e3))},500)}};return!A&&w.length>0&&setTimeout(a,100),window.addEventListener("hashchange",a),window.addEventListener("popstate",a),()=>{window.removeEventListener("hashchange",a),window.removeEventListener("popstate",a)}},[A,w,s]);const Da=(a,t)=>{if(t?.ctrlKey||t?.metaKey){t?.preventDefault(),t?.stopPropagation();const i=`/word-by-word/${s}/${a}`;window.open(i,"_blank","noopener,noreferrer");return}U(a),X(!0)},_a=()=>{X(!1),U(null)},Ha=a=>{U(a)},Va=a=>{X(!1),U(null),T(`/surah/${a}?wordByWord=1`)},za=async a=>{try{parseInt(s),Ne(a),je(!0)}catch(t){console.error("Error opening interpretation:",t),E("Failed to load interpretation. Please try again.")}},Ua=()=>{je(!1),Ne(null)},qa=async(a,t,o,i)=>{if(a.stopPropagation(),!j){E("Please sign in to bookmark verses"),T("/sign");return}const x=t+1,h=`${s}:${x}`;try{if(Ce(r=>({...r,[h]:!0})),oe.has(h)){const m=(await K.getBookmarks(j.uid,"translation")).find(c=>c.surahId===parseInt(s)&&c.verseId===x);m&&await K.deleteBookmark(m.id,j.uid),le(c=>{const l=new Set(c);return l.delete(h),l}),I("Bookmark removed successfully")}else await K.addBookmark(j.uid,s,x,"translation",ne?.arabic||`Surah ${s}`,`${o} - ${i}`),le(r=>new Set([...r,h])),I("Verse bookmarked successfully")}catch(r){console.error("Error managing bookmark:",r),E("Failed to manage bookmark. Please try again.")}finally{Ce(r=>({...r,[h]:!1}))}},Qa=()=>{R(null),M(!0),la(parseInt(s)).then(y).catch(a=>{R(a.message),console.error("Error fetching ayah data on retry:",a)}).finally(()=>M(!1))};n.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]),n.useEffect(()=>{const a=async h=>{h.preventDefault(),h.stopPropagation();const r=h.target.closest(".hindi-footnote-link");if(r){const m=r.getAttribute("data-footnote"),c=r.getAttribute("data-surah"),l=r.getAttribute("data-ayah");if(m&&c&&l){Pe(!0),Be(!0),ce("Loading...");try{const d=await re.getExplanationByNumber(parseInt(c),parseInt(l),m);ce(d)}catch(d){console.error("Error fetching Hindi footnote explanation:",d),ce(`Error loading explanation: ${d.message}`)}finally{Pe(!1)}}else console.error("Missing footnote data:",{footnoteNumber:m,surahNo:c,ayahNo:l})}},t=()=>{u==="hi"&&w.length>0&&document.querySelectorAll("p[data-hindi-translation]").forEach((r,m)=>{const c=r.getAttribute("data-hindi-translation"),l=r.getAttribute("data-surah"),d=r.getAttribute("data-ayah"),p=r.innerHTML,f=c&&(c.includes('<sup class="f-note">')||c.includes("<sup>")),H=p.includes('<sup class="f-note">')||p.includes("<sup>"),J=!r.querySelector(".hindi-footnote-link");if((f||H)&&J){const Ya=re.parseHindiTranslationWithClickableExplanations(c||p,parseInt(l),parseInt(d));r.innerHTML=Ya}})},o=document.createElement("style");o.textContent=`
      .hindi-footnote-link:hover {
        background-color: #0891b2 !important;
        transform: scale(1.05) !important;
      }
      .hindi-footnote-link:active {
        background-color: #0e7490 !important;
        transform: scale(0.95) !important;
      }
    `,document.head.appendChild(o),t();const i=setInterval(t,1e3);window.testHindiFootnotes=()=>{t()};const x=new MutationObserver(h=>{let r=!1;h.forEach(m=>{(m.type==="childList"||m.type==="attributes")&&m.addedNodes.forEach(c=>{c.nodeType===Node.ELEMENT_NODE&&(c.matches&&c.matches("p[data-hindi-translation]")||c.querySelector&&c.querySelector("p[data-hindi-translation]"))&&(r=!0)})}),r&&setTimeout(t,100)});return x.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-hindi-translation"]}),document.addEventListener("click",a),()=>{document.removeEventListener("click",a),document.head.removeChild(o),clearInterval(i),x.disconnect()}},[u,w]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const o=t.target.closest(".urdu-footnote-link");if(o){const i=o.getAttribute("data-footnote-id");o.getAttribute("data-footnote-number");const x=o.getAttribute("data-surah"),h=o.getAttribute("data-ayah");if(i&&x&&h){De(!0),We(!0),de("Loading...");try{const r=await ye.getFootnoteExplanation(i);de(r)}catch(r){console.error("❌ Error loading Urdu footnote:",r),de(`Error loading explanation: ${r.message}`)}finally{De(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[u,w]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const o=t.target.closest(".bangla-explanation-link");if(o){const i=o.getAttribute("data-explanation-number"),x=o.getAttribute("data-surah"),h=o.getAttribute("data-ayah");if(i&&x&&h){Re(!0),Me(!0),ee("Loading...");try{const r=await be.getExplanationByNumber(parseInt(x),parseInt(h),i);ee(r||"Explanation not found.")}catch(r){console.error("❌ Error loading Bangla explanation:",r),ee("Error loading explanation.")}finally{Re(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[u,w]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const o=t.target.closest(".english-footnote-link");if(o){const i=o.getAttribute("data-footnote-id"),x=o.getAttribute("data-surah"),h=o.getAttribute("data-ayah");if(i&&x&&h){He(!0),_e(!0),he("Loading...");try{const r=await we.getExplanation(parseInt(i));he(r)}catch(r){console.error("Error fetching English footnote explanation:",r),he(`Error loading explanation: ${r.message}`)}finally{He(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[u,w]),n.useEffect(()=>{},[Le]);const Ke=()=>{const a=parseInt(s)-1;a>=1&&T(`/surah/${a}`)},Oe=()=>{const a=parseInt(s)+1;a<=114&&T(`/surah/${a}`)};n.useEffect(()=>{const a=()=>{window.scrollY>300?Fe(!0):Fe(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),n.useEffect(()=>{const a=t=>{const{type:o,message:i}=t.detail;o==="success"?I(i):o==="error"&&E(i)};return window.addEventListener("showToast",a),()=>{window.removeEventListener("showToast",a)}},[I,E]);const Ge=a=>{if(!a)return"";if(typeof document>"u")return a.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim();const t=document.createElement("div");return t.innerHTML=a,t.querySelectorAll(".english-footnote-link, .footnote-link, sup.f-note").forEach(o=>o.remove()),(t.textContent||t.innerText||"").replace(/\s+/g," ").trim()},Ja=async(a,t,o)=>{const i=Ge(t),x=`${a}
  
  "${i}"
  
  — Quran ${s}:${o}`;try{await navigator.clipboard.writeText(x),Z(o),setTimeout(()=>{Z(null)},2e3)}catch(h){console.error("Failed to copy text: ",h);try{const r=document.createElement("textarea");r.value=x,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),Z(o),setTimeout(()=>{Z(null)},2e3)}catch(r){console.error("Fallback copy failed: ",r)}}},Ka=async(a,t,o)=>{const i=Ge(t),x=`${a}

"${i}"

— Quran ${s}:${o}`,h=`${window.location.origin}/surah/${s}#verse-${o}`,r={title:`Quran ${s}:${o}`,text:x,url:h};try{if(navigator.share&&navigator.canShare&&navigator.canShare(r))await navigator.share(r),I("Verse shared successfully");else{const m=`${x}

Read more: ${h}`;await navigator.clipboard.writeText(m),I("Verse link copied to clipboard")}}catch(m){if(m.name==="AbortError")return;console.error("Error sharing verse:",m);try{const c=`${x}

Read more: ${h}`;await navigator.clipboard.writeText(c),I("Verse link copied to clipboard")}catch(c){console.error("Failed to copy to clipboard:",c),E("Failed to share verse. Please try again.")}}},D=()=>{g&&(g.pause(),g.currentTime=0,g.onended=null,g.onerror=null)};n.useEffect(()=>()=>{try{D()}catch{}N(!1),ae(null),L(0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))},[]);const Q=(a,t=0,o=null)=>{if(!s)return;const i=o||me,x=w?.length||0;if(t>=i.length){a<x?Q(a+1,0,o):(N(!1),ae(null),L(0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}})));return}N(!0);const h={quran:"qirath",translation:"translation",interpretation:"interpretation"},r=i[t],m=h[r]||"qirath";D(),L(t);const c=yt({ayahNumber:a,surahNumber:parseInt(s),audioType:m,qariName:ue,playbackSpeed:te,onStart:()=>{ae(a),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!0}}))},onEnd:()=>{Q(a,t+1,o)},onError:()=>{Q(a,t+1,o)}});Ve(c)},_=(a,t=0)=>{Q(a,t,null)},Oa=a=>{if(b===a&&g){g.paused?g.play().then(()=>N(!0)).catch(()=>{}):(g.pause(),N(!1));return}L(0),_(a,0)},Ye=()=>{try{g&&!g.paused?(g.pause(),N(!1),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))):g&&g.paused?g.play().then(()=>{N(!0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!0}}))}).catch(()=>{}):(L(0),_(1,0))}catch{}};pe.current=Ye;const Ga=()=>{D(),N(!1),ae(null),L(0),Ve(null),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))};n.useEffect(()=>{ze&&g&&b&&(D(),N(!1),setTimeout(()=>{_(b,0)},100))},[ue,me]),n.useEffect(()=>{g&&(g.playbackRate=te)},[g,te]);const Ze=async()=>{try{$e(!0),await O.downloadDatabase(),I("Tamil database downloaded successfully!"),await(async()=>{if(s)try{M(!0),R(null);const[t,o,i,x]=await Promise.all([sa(),ra(),na(parseInt(s)),oa()]);let r=((d,p)=>{const f=p.filter(J=>J.SuraId===parseInt(d));return f.length===0?7:Math.max(...f.map(J=>J.ayato))})(s,x||[]);if(r===7&&t&&Array.isArray(t)){const d=t.find(p=>p.id===parseInt(s));d&&d.ayahs&&(r=d.ayahs)}const m=await O.getSurahTranslations(parseInt(s));if(m&&m.length>0)y(m);else{const d=Array.from({length:r},(p,f)=>({number:f+1,ArabicText:"",Translation:`Tamil translation not available for verse ${f+1}`}));y(d)}Te(i||[]);const c=t.find(d=>d.id===parseInt(s)),l=o.find(d=>d.number===parseInt(s));Ae(c?{arabic:c.arabic,number:c.id,type:l?.type||"Makki"}:{arabic:"Unknown Surah",number:parseInt(s),type:"Makki"})}catch(t){R(t.message),console.error("Error fetching surah data:",t)}finally{M(!1)}})()}catch(a){console.error("Error downloading Tamil database:",a),E("Failed to download Tamil database. Please try again.")}finally{$e(!1)}};if(A)return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded w-48 mx-auto mb-4 relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/60 dark:via-white/10 to-transparent"})}),e.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded w-32 mx-auto relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/60 dark:via-white/10 to-transparent"})})]}),e.jsx(ia,{count:5})]})});if(Ee)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 dark:text-red-400 text-lg mb-2",children:"Failed to load Surah data"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:Ee}),e.jsx("button",{onClick:Qa,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Try Again"})]})})});const ge=ne?.arabic||(s?`Surah ${s}`:"Surah"),Xe=pt(s,ge),ea=s?String(s):"",aa=ea==="1"||ea==="2"?"font-normal":"font-semibold";return e.jsxs("div",{children:[e.jsx(ut,{toasts:ga,removeToast:fa}),e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 shadow-md",children:[e.jsx("div",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"w-full max-w-[1290px] mx-auto text-center px-2 sm:px-0",children:[e.jsxs("div",{className:"sm:hidden space-y-3 sm:space-y-4 px-2",children:[Y&&e.jsxs("div",{className:"text-center",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Reading from Juz ",Y]}),e.jsx("button",{onClick:()=>T("/juz"),className:"ml-2 text-xs text-cyan-500 hover:text-cyan-600 dark:text-cyan-400 dark:hover:text-cyan-300 hover:underline",children:"Back to Juz"})]}),e.jsx("h1",{className:`text-4xl sm:text-5xl font-arabic dark:text-white text-gray-900 mb-6 sm:mb-8 px-4 ${aa}`,style:{fontFamily:ma},"aria-label":ge,children:Xe}),u==="ta"&&!O.isDatabaseDownloaded()&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Tamil translation database is not downloaded. Download to view Tamil translations."}),e.jsx("button",{onClick:Ze,disabled:W,className:`px-6 py-2 rounded-lg font-medium transition-colors ${W?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,title:"Ayah wise view",children:W?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Downloading..."})]}):"Download Tamil Database"})]})}),parseInt(s)!==1&&parseInt(s)!==9&&e.jsx("p",{className:"text-xl sm:text-2xl font-arabic text-gray-800 dark:text-white leading-relaxed px-6 pt-8 pb-6 sm:px-8 sm:pt-10 sm:pb-8",children:e.jsx("img",{src:$==="dark"?ca:da,alt:"Bismillah",className:"w-auto h-8 sm:h-10 lg:h-12 xl:h-14 mx-auto"})}),v&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("div",{className:"flex bg-gray-100 dark:bg-[#323A3F] rounded-full p-1 shadow-sm",children:[e.jsxs("button",{className:"flex items-center justify-center px-2 py-1.5 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-full shadow transition-colors whitespace-nowrap","aria-label":"Ayah wise view selected",title:"Ayah wise view",children:[e.jsx(ha,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Ayah wise"})]}),e.jsxs("button",{className:"flex items-center justify-center px-2 py-1.5 text-gray-500 rounded-full dark:text-white hover:text-cyan-600 dark:hover:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-900/40 transition-colors whitespace-nowrap",onClick:ve,"aria-label":"Switch to block wise view",title:"Switch to block wise view",children:[e.jsx(ua,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Block wise"})]})]})})]}),e.jsxs("div",{className:"hidden sm:block",children:[Y&&e.jsxs("div",{className:"mb-2 text-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Reading from Juz ",Y]}),e.jsx("button",{onClick:()=>T("/juz"),className:"ml-2 text-sm text-cyan-500 hover:text-cyan-600 dark:text-cyan-400 dark:hover:text-cyan-300 hover:underline",children:"Back to Juz"})]}),e.jsxs("div",{className:"relative pb-4 sm:pb-6",children:[e.jsx("h1",{className:`text-4xl sm:text-5xl font-arabic dark:text-white text-gray-900 mb-6 sm:mb-8 px-4 sm:px-6 ${aa}`,style:{fontFamily:ma},"aria-label":ge,children:Xe}),u==="ta"&&!O.isDatabaseDownloaded()&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Tamil translation database is not downloaded. Download to view Tamil translations."}),e.jsx("button",{onClick:Ze,disabled:W,className:`px-6 py-2 rounded-lg font-medium transition-colors ${W?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:W?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Downloading..."})]}):"Download Tamil Database"})]})}),e.jsxs("div",{className:"mb-3 sm:mb-4 relative",children:[parseInt(s)!==1&&parseInt(s)!==9?e.jsx("div",{className:"flex flex-col items-center px-4 sm:px-6 pt-8 pb-6 sm:pt-10 sm:pb-8",children:e.jsx("img",{src:$==="dark"?ca:da,alt:"Bismillah",className:"w-[236px] h-[52.9px] mb-2"})}):e.jsx("div",{className:"h-[52.9px] mb-2"}),(u==="mal"||u==="E")&&e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-4 sm:right-6 lg:right-11 hidden sm:block",children:e.jsxs("div",{className:"flex gap-1 bg-gray-100 dark:bg-[#323A3F] rounded-full p-1 shadow-sm",children:[e.jsxs("button",{className:"flex items-center justify-center px-3 py-1.5 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-full shadow-sm transition-colors whitespace-nowrap","aria-label":"Ayah wise view selected",title:"Ayah wise view",children:[e.jsx(ha,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"sr-only",children:"Ayah wise"})]}),e.jsxs("button",{className:"flex items-center justify-center px-3 py-1.5 text-gray-500 rounded-full dark:text-white hover:text-cyan-600 dark:hover:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-900/40 transition-colors whitespace-nowrap",onClick:ve,"aria-label":"Switch to block wise view",title:"Switch to block wise view",children:[e.jsx(ua,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"sr-only",children:"Block wise"})]})]})})]})]})]})]})}),e.jsx("div",{className:"w-full max-w-[1290px] mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 bg-white dark:bg-gray-900",children:e.jsx("div",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:A&&w.length===0?e.jsx(ia,{count:7}):!A&&w.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No ayah data available for this surah."})}):!A&&w.length>0?e.jsxs(e.Fragment,{children:[w.map((a,t)=>{const o=Se[t],i=o?.text_uthmani||"",x=Se.find(c=>c.verse_key===`${s}:${t+1}`),h=i||x?.text_uthmani||"",r=b===t+1,m=`leading-relaxed px-4 sm:px-6 md:px-8 ${r?"text-cyan-700 dark:text-cyan-300":"text-gray-700 dark:text-white"}`;return e.jsxs("div",{id:`verse-${t+1}`,className:"pt-3 sm:pt-4 pb-2 sm:pb-3 border-b border-gray-200 dark:border-gray-700 rounded-t-lg overflow-hidden transition-colors hover:bg-[#e8f2f6] dark:hover:bg-gray-800 active:bg-[#e8f2f6] mx-2 sm:mx-4",children:[e.jsx("div",{className:"text-right mb-3 sm:mb-4",children:e.jsxs("p",{className:`px-4 sm:px-6 md:px-8 ${r?"text-cyan-700 dark:text-cyan-300":"text-gray-900 dark:text-white"}`,style:{fontFamily:V,fontSize:`${z}px`,lineHeight:"2.2"},dir:"rtl",children:[h," ",e.jsxs("span",{className:"whitespace-nowrap",children:["﴿",Wa(o?.verse_number||t+1),"﴾"]})]})}),e.jsx("div",{className:"text-left mt-2 sm:mt-3 mb-1.5 sm:mb-2",children:u==="hi"?e.jsx("p",{className:`${m} font-hindi font-normal`,style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-hindi-translation":a.RawTranslation||a.Translation,"data-surah":s,"data-ayah":a.number,"data-parsed":a.Translation}):u==="ur"?e.jsx("p",{className:`${m} font-urdu font-normal`,style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-urdu-translation":a.RawTranslation||a.Translation,"data-surah":s,"data-ayah":a.number,"data-parsed":a.Translation}):u==="bn"?e.jsx("p",{className:`${m} font-bengali font-normal`,style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-bangla-translation":a.RawTranslation||a.Translation,"data-surah":s,"data-ayah":a.number,"data-parsed":a.Translation}):u==="ta"?e.jsx("p",{className:`${m} font-tamil font-normal`,style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-tamil-translation":a.RawTranslation||a.Translation,"data-surah":s,"data-ayah":a.number,"data-parsed":a.Translation}):u==="E"?e.jsx("p",{className:`${m} font-poppins font-normal`,style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-english-translation":a.RawTranslation||a.Translation,"data-surah":s,"data-ayah":a.number,"data-parsed":a.Translation}):u==="mal"?e.jsx("p",{className:`${m} font-malayalam font-normal`,style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-malayalam-translation":a.RawTranslation||a.Translation,"data-surah":s,"data-ayah":a.number,"data-parsed":a.Translation}):e.jsx("p",{className:`${m} font-poppins font-normal`,style:{fontSize:`${k}px`},children:a.Translation})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 lg:gap-6 text-gray-500 dark:text-gray-300 px-4 sm:px-6 md:px-8",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[s,".",t+1]}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors relative",onClick:c=>{c.stopPropagation(),Ja(h,a.Translation,t+1)},title:"Copy verse",children:ya===t+1?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-xs text-green-500 font-medium hidden sm:inline",children:"Copied!"})]}):e.jsx(st,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:`p-1 transition-colors ${b===t+1?"text-cyan-600":"text-[#2AA0BF] hover:text-black"} ${b===t+1&&g&&!g.paused?"animate-pulse":""}`,onClick:c=>{c.stopPropagation(),Oa(t+1)},title:b===t+1&&g&&!g.paused?"Pause ayah":b===t+1&&g&&g.paused?"Resume ayah":"Play ayah audio",children:b===t+1&&g&&!g.paused?e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx(rt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),u!=="ta"&&e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:c=>{c.stopPropagation(),za(t+1)},title:"View interpretation",children:e.jsx(nt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:c=>{c.stopPropagation(),Da(t+1,c)},children:e.jsx(dt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:`p-1 transition-colors text-[#2AA0BF] hover:text-black ${ie[`${s}:${t+1}`]?"opacity-50 cursor-not-allowed":""}`,onClick:c=>qa(c,t,h,a.Translation),disabled:ie[`${s}:${t+1}`],title:oe.has(`${s}:${t+1}`)?"Remove bookmark":"Add bookmark",children:ie[`${s}:${t+1}`]?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b border-current"}):e.jsx(ot,{className:`w-3 h-3 sm:w-4 sm:h-4 ${oe.has(`${s}:${t+1}`)?"fill-current":""}`})}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:c=>{c.stopPropagation(),Ka(h,a.Translation,t+1)},title:"Share verse",children:e.jsx(lt,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]},t)}),u==="ur"&&C>0&&e.jsxs("div",{className:"flex flex-col items-center gap-3 py-6",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",Math.min(P,C)," of ",C," ayahs"]}),e.jsx("div",{ref:Qe,className:"w-full flex items-center justify-center text-sm text-gray-500 dark:text-gray-400 h-12",children:P>=C?"All ayahs loaded":q?"Loading more ayahs…":"Scroll to load more ayahs"})]})]}):null})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 dark:border-gray-700 px-3 sm:px-4 lg:px-6 py-3 sm:py-4 mt-6 sm:mt-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"sm:hidden space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:Ke,disabled:parseInt(s)<=1,className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg w-[173.96px] min-h-[44px]
                             disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(xa,{className:"w-3 h-3"}),e.jsx("span",{children:"Previous Surah"})]}),e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg min-h-[44px]`,children:[e.jsx(fe,{className:"w-3 h-3"}),e.jsx("span",{children:"Beginning of Surah"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:Oe,disabled:parseInt(s)>=114,className:`w-[173.96px] flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg min-h-[44px]
                             disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{children:"Next Surah"}),e.jsx(ta,{className:"w-3 h-3"})]})})]}),e.jsxs("div",{className:"hidden sm:flex items-center justify-center space-x-3 sm:space-x-4 lg:space-x-6",children:[e.jsxs("button",{onClick:Ke,disabled:parseInt(s)<=1,className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg
                           disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(xa,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Previous Surah"})]}),e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg`,children:[e.jsx(fe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Beginning of Surah"})]}),e.jsxs("button",{onClick:Oe,disabled:parseInt(s)>=114,className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg
                           disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{children:"Next Surah"}),e.jsx(ta,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]})}),ba&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-[9999] pt-24 sm:pt-28 lg:pt-32 p-2 sm:p-4 lg:p-6 overflow-hidden",children:e.jsx(it,{selectedVerse:wa,surahId:s,onClose:_a,onNavigate:Ha,onSurahChange:Va})}),ka&&e.jsx(ct,{surahId:s,verseId:va,onClose:Ua}),Le&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Hindi Explanation"}),e.jsx("button",{onClick:()=>Be(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Sa?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:Na})})})]})}),Ta&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bangla Explanation"}),e.jsx("button",{onClick:()=>Me(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Ea?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:Aa})})})]})}),Ca&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Urdu Explanation"}),e.jsx("button",{onClick:()=>We(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Fa?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:$a})})})]})}),Ia&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"English Explanation"}),e.jsx("button",{onClick:()=>_e(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Ba?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:La})})})]})}),ja&&e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`fixed right-6 z-[60] bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-700 text-white rounded-full p-3 shadow-lg transition-all duration-300 hover:scale-110 flex items-center justify-center ${b?"bottom-32 sm:bottom-36":"bottom-6"}`,title:"Beginning of Surah","aria-label":"Beginning of Surah",children:e.jsx(fe,{className:"w-6 h-6"})}),b&&e.jsx(mt,{audioElement:g,isPlaying:ze&&g&&!g.paused,currentAyah:b,totalAyahs:w?.length||0,surahInfo:ne,onPlayPause:Ye,onStop:Ga,onSkipBack:()=>{b&&b>1&&(L(0),_(b-1,0))},onSkipForward:()=>{const a=w?.length||0;b&&b<a&&(L(0),_(b+1,0))},onClose:null,selectedQari:ue,onQariChange:a=>{Pa(a),b&&(D(),N(!1),setTimeout(()=>{_(b,0)},50))},translationLanguage:u,audioTypes:me,onAudioTypesChange:a=>{const t=b;Ma(a),t&&(D(),N(!1),setTimeout(()=>{Q(t,0,a)},50))},playbackSpeed:te,onPlaybackSpeedChange:a=>{Ra(a)}})]})})]})};export{Ot as default};
