import{u as Ua,g as Va,d as qa,a as Qa,b as Ja,r as n,j as e,C as Ka,P as Oa,B as Ga,n as Ya,o as Za,p as Ye,q as Ze,t as Xe,v as ea,f as aa,w as ta,x as K}from"./index-pxHnjHjD.js";import{W as Xa,A as et}from"./WordByWord-CXIsVNSw.js";import{D as sa,B as ra,A as ge}from"./darkmode-bismi-Dgb0MGm6.js";import{W as at}from"./WordByWordIcon-B1kDBx-G.js";import{u as tt,T as st}from"./Toast-B6q433qJ.js";import O from"./tamilTranslationService-BXq1lve9.js";import ne from"./hindiTranslationService-TIz5d7Jr.js";import fe from"./urduTranslationService-Devikl1b.js";import ye from"./banglaTranslationService-DREVDw9v.js";import be from"./englishTranslationService-DbBUmdrl.js";import{V as rt}from"./LoadingSkeleton-BEx0oGtV.js";import nt from"./StickyAudioPlayer-D23gumu9.js";import{C as na}from"./chevron-left-BDDzhXoa.js";import"./tamilWordByWordService-CbdEWK98.js";import"./hindiWordByWordService-C4orOXOT.js";import"./banglaWordByWordService-CbmHEzxM.js";import"./apiService-uFQGO9bv.js";import"./volume-x-BJnJqqFB.js";import"./volume-2-O1mrhZ5G.js";import"./skip-forward-DQYe2sNq.js";const ot={"al-ghamidi":"G","al-afasy":"A","al-hudaify":"H"};function lt({ayahNumber:z,surahNumber:U,audioType:k="qirath",qariName:h="al-afasy"}){const F=String(U).padStart(3,"0"),T=String(z).padStart(3,"0");if(k==="translation")return`https://old.thafheem.net/audio/translation/T${F}_${T}.ogg`;if(k==="interpretation")return`https://old.thafheem.net/audio/interpretation/I${F}_${T}.ogg`;const v=`Q${ot[h]||"A"}`;return`https://old.thafheem.net/audio/qirath/${h}/${v}${F}_${T}.ogg`}function it({ayahNumber:z,surahNumber:U,audioType:k="qirath",qariName:h="al-afasy",playbackSpeed:F=1,onStart:T,onEnd:I,onError:v}){const j=lt({ayahNumber:z,surahNumber:U,audioType:k,qariName:h}),r=new Audio(j);return r.preload="none",r.playbackRate=F,r.onplay=()=>{typeof T=="function"&&T()},typeof I=="function"&&(r.onended=I),typeof v=="function"&&(r.onerror=v),r.play().catch(S=>{typeof v=="function"&&v(S)}),r}const oa=20,Pt=()=>{const{quranFont:z,fontSize:U,translationFontSize:k,translationLanguage:h,theme:F,viewType:T,setViewType:I}=Ua(),v=h==="mal"||h==="E",{user:j}=Va(),{surahId:r}=qa(),S=Qa(),G=Ja(),{pathname:we}=G,{toasts:la,removeToast:ia,showSuccess:L,showError:E}=tt(),ke=n.useCallback(()=>{v&&I("Block Wise")},[I,v]);n.useEffect(()=>{if(!v&&T!=="Ayah Wise"){I("Ayah Wise");return}if(v&&T==="Block Wise"){const a=`/blockwise/${r}`;we!==a&&S(a)}},[T,v,r,S,we,I]);const Y=new URLSearchParams(G.search).get("fromJuz"),[da,Z]=n.useState(null),[ca,X]=n.useState(!1),[ha,V]=n.useState(null),[ua,ve]=n.useState(!1),[ma,je]=n.useState(null),[w,y]=n.useState([]),[Ne,Te]=n.useState([]),[ee,Se]=n.useState(null),[A,M]=n.useState(!0),[dt,ct]=n.useState(0),[Ae,R]=n.useState(null),[oe,le]=n.useState(new Set),[ie,Ee]=n.useState({}),[D,Ce]=n.useState(!1),[xa,Fe]=n.useState(!1),[ht,Ie]=n.useState(!1),[ut,mt]=n.useState(!1),[Le,$e]=n.useState(!1),[pa,de]=n.useState(""),[ga,Be]=n.useState(!1),[fa,Pe]=n.useState(!1),[ya,ae]=n.useState(""),[ba,Me]=n.useState(!1),[wa,Re]=n.useState(!1),[ka,ce]=n.useState(""),[va,De]=n.useState(!1),[ja,We]=n.useState(!1),[Na,he]=n.useState(""),[Ta,_e]=n.useState(!1),[b,te]=n.useState(null),[ue,Sa]=n.useState("al-afasy"),[me,Aa]=n.useState(["quran"]),[se,Ea]=n.useState(1),[xt,$]=n.useState(0),[p,He]=n.useState(null),[ze,N]=n.useState(!1),B=n.useRef(null);n.useRef(new Map);const[C,Ue]=n.useState(0),[P,xe]=n.useState(0),[q,Ve]=n.useState(!1),qe=n.useRef(null),Ca=a=>{const t=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];return a.toString().split("").map(o=>t[o]||o).join("")},re=n.useCallback(async(a,t,o=!1)=>{if(!r||h!=="ur")return;const l=parseInt(r,10);if(!Number.isNaN(l)){Ve(!0);try{const u=Array.from({length:t-a+1},(s,g)=>a+g),c=await Promise.all(u.map(async s=>{const g=await fe.getAyahTranslation(l,s)||"",m=fe.parseUrduTranslationWithClickableFootnotes(g,l,s);return{number:s,ArabicText:"",Translation:m,RawTranslation:g}}));y(s=>o?c:[...s,...c]),xe(t)}catch(u){throw o&&y([]),console.error(`Error fetching Urdu translations for ayahs ${a}-${t}:`,u),u}finally{Ve(!1)}}},[r,h]),Qe=n.useCallback(async()=>{if(h!=="ur"||q||P>=C)return;const a=P+1,t=Math.min(P+oa,C);try{await re(a,t)}catch{E?.("Failed to load more Urdu ayahs. Please try again.")}},[q,re,C,E,P,h]);n.useEffect(()=>{if(h!=="ur")return;const a=qe.current;if(!a)return;const t=new IntersectionObserver(o=>{o[0]?.isIntersecting&&!q&&P<C&&Qe()},{root:null,rootMargin:"200px",threshold:.1});return t.observe(a),()=>{t.disconnect()}},[Qe,q,C,h,P]);const pe=n.useRef(null);n.useEffect(()=>{const a=()=>{pe.current&&pe.current()};return window.addEventListener("playAudio",a),()=>{window.removeEventListener("playAudio",a)}},[]),n.useEffect(()=>{const t=new URLSearchParams(G.search).get("wordByWord");if(t){const o=parseInt(t)||1,l=setTimeout(()=>{V(o),X(!0);const u=new URL(window.location);u.searchParams.delete("wordByWord"),window.history.replaceState({},"",u.pathname)},500);return()=>clearTimeout(l)}},[G.search,A]),n.useEffect(()=>{if(h==="hi"&&w.length>0&&!A){const a=[200,500,1e3,2e3].map(t=>setTimeout(()=>{document.querySelectorAll("p[data-hindi-translation]").forEach((l,u)=>{const c=l.getAttribute("data-hindi-translation"),s=l.getAttribute("data-surah"),g=l.getAttribute("data-ayah"),m=l.innerHTML,i=c&&(c.includes('<sup class="f-note">')||c.includes("<sup>")),d=m.includes('<sup class="f-note">')||m.includes("<sup>"),x=!l.querySelector(".hindi-footnote-link");if((i||d)&&x){const f=ne.parseHindiTranslationWithClickableExplanations(c||m,parseInt(s),parseInt(g));l.innerHTML=f}})},t));return()=>a.forEach(t=>clearTimeout(t))}},[h,w,A]),n.useEffect(()=>()=>{B.current&&(B.current.pause(),B.current.src="",B.current.currentTime=0,B.current.onended=null,B.current.onerror=null,B.current=null)},[]),n.useEffect(()=>{B.current=p},[p]),n.useEffect(()=>{(async()=>{if(r)try{M(!0),R(null);const[t,o,l,u]=await Promise.all([Ze(),Xe(),ea(parseInt(r)),aa()]);let s=((i,d)=>{const x=d.filter(H=>H.SuraId===parseInt(i));return x.length===0?7:Math.max(...x.map(H=>H.ayato))})(r,u||[]);if(s===7&&t&&Array.isArray(t)){const i=t.find(d=>d.id===parseInt(r));i&&i.ayahs&&(s=i.ayahs)}if(h!=="ur"&&(Ue(0),xe(0)),h==="ta")try{const i=await O.getSurahTranslations(parseInt(r));if(i&&i.length>0)y(i);else{const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:`Tamil translation not available for verse ${f+1}`}));y(d)}}catch(i){console.error("Error fetching Tamil translations:",i);const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:"Tamil translation service unavailable. Please try again later."}));y(d)}else if(h==="hi")try{const i=await ne.getSurahTranslations(parseInt(r));i&&i.length>0?y(i):(console.warn("No Hindi translations found"),y([]))}catch(i){console.error("Error fetching Hindi translations:",i);const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:"Hindi translation service unavailable. Please try again later."}));y(d)}else if(h==="ur")try{if(Ue(s),xe(0),y([]),s>0){const i=Math.min(oa,s);await re(1,i,!0)}}catch(i){console.error("Error fetching Urdu translations:",i);const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:"Urdu translation service unavailable. Please try again later."}));y(d)}else if(h==="bn")try{const i=await ye.getSurahTranslations(parseInt(r));if(i&&i.length>0){const d=i.map(x=>({...x,Translation:ye.parseBanglaTranslationWithClickableExplanations(x.Translation,parseInt(r),x.number)}));y(d)}else{const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:`Bangla translation not available for verse ${f+1}`}));y(d)}}catch(i){console.error("Error fetching Bangla translations:",i);const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:"Bangla translation service unavailable. Please try again later."}));y(d)}else if(h==="E")try{const i=await be.getSurahTranslations(parseInt(r));if(i&&i.length>0){const d=i.map(x=>({...x,Translation:be.parseEnglishTranslationWithClickableFootnotes(x.Translation,parseInt(r),x.number),interpretationCount:0}));y(d)}else{const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:`English translation not available for verse ${f+1}`}));y(d)}}catch(i){console.error("Error fetching English translations:",i);const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:"English translation service unavailable. Please try again later."}));y(d)}else{const i=await ta(parseInt(r));if(!i||!Array.isArray(i)||i.length===0){const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:`Translation not available for verse ${f+1}. The API server may be temporarily unavailable. Please try again later.`}));y(d)}else{const d=i.map(x=>({number:x.contiayano||0,ArabicText:"",Translation:(x.AudioText||"").replace(/<sup[^>]*foot_note[^>]*>\d+<\/sup>/g,"").replace(/\s+/g," ").trim()}));y(d)}}Te(l||[]);const g=t.find(i=>i.id===parseInt(r)),m=o.find(i=>i.number===parseInt(r));Se(g?{arabic:g.arabic,number:g.id,type:m?.type||"Makki"}:{arabic:"Unknown Surah",number:parseInt(r),type:"Makki"})}catch(t){R(t.message),console.error("Error fetching surah data:",t)}finally{M(!1)}})()},[r,h,re]),n.useEffect(()=>{(async()=>{if(!(!j||!r))try{const t=await K.getBookmarks(j.uid,"translation"),o=new Set(t.filter(l=>l.surahId===parseInt(r)).map(l=>`${l.surahId}:${l.verseId}`));le(o)}catch(t){console.error("Error loading bookmarks:",t)}})()},[j,r]),n.useEffect(()=>{(async()=>{if(!j||!r){Ie(!1);return}try{const t=await K.isFavorited(j.uid,r);Ie(t)}catch(t){console.error("Error loading favorite status:",t)}})()},[j,r]),n.useEffect(()=>{const a=()=>{const t=window.location.hash;if(t&&t.startsWith("#verse-")){const o=parseInt(t.replace("#verse-",""));o&&!A&&w.length>0&&setTimeout(()=>{const l=document.getElementById(`verse-${o}`);l&&(l.scrollIntoView({behavior:"smooth",block:"center"}),l.style.backgroundColor="#fef3c7",setTimeout(()=>{l.style.backgroundColor=""},2e3))},500)}};return!A&&w.length>0&&setTimeout(a,100),window.addEventListener("hashchange",a),window.addEventListener("popstate",a),()=>{window.removeEventListener("hashchange",a),window.removeEventListener("popstate",a)}},[A,w,r]);const Fa=(a,t)=>{if(t?.ctrlKey||t?.metaKey){t?.preventDefault(),t?.stopPropagation();const l=`/word-by-word/${r}/${a}`;window.open(l,"_blank","noopener,noreferrer");return}V(a),X(!0)},Ia=()=>{X(!1),V(null)},La=a=>{V(a)},$a=a=>{X(!1),V(null),S(`/surah/${a}?wordByWord=1`)},Ba=async a=>{try{parseInt(r),je(a),ve(!0)}catch(t){console.error("Error opening interpretation:",t),E("Failed to load interpretation. Please try again.")}},Pa=()=>{ve(!1),je(null)},Ma=async(a,t,o,l)=>{if(a.stopPropagation(),!j){E("Please sign in to bookmark verses"),S("/sign");return}const u=t+1,c=`${r}:${u}`;try{if(Ee(s=>({...s,[c]:!0})),oe.has(c)){const g=(await K.getBookmarks(j.uid,"translation")).find(m=>m.surahId===parseInt(r)&&m.verseId===u);g&&await K.deleteBookmark(g.id,j.uid),le(m=>{const i=new Set(m);return i.delete(c),i}),L("Bookmark removed successfully")}else await K.addBookmark(j.uid,r,u,"translation",ee?.arabic||`Surah ${r}`,`${o} - ${l}`),le(s=>new Set([...s,c])),L("Verse bookmarked successfully")}catch(s){console.error("Error managing bookmark:",s),E("Failed to manage bookmark. Please try again.")}finally{Ee(s=>({...s,[c]:!1}))}},Ra=()=>{R(null),M(!0),ta(parseInt(r)).then(y).catch(a=>{R(a.message),console.error("Error fetching ayah data on retry:",a)}).finally(()=>M(!1))};n.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[r]),n.useEffect(()=>{const a=async c=>{c.preventDefault(),c.stopPropagation();const s=c.target.closest(".hindi-footnote-link");if(s){const g=s.getAttribute("data-footnote"),m=s.getAttribute("data-surah"),i=s.getAttribute("data-ayah");if(g&&m&&i){Be(!0),$e(!0),de("Loading...");try{const d=await ne.getExplanationByNumber(parseInt(m),parseInt(i),g);de(d)}catch(d){console.error("Error fetching Hindi footnote explanation:",d),de(`Error loading explanation: ${d.message}`)}finally{Be(!1)}}else console.error("Missing footnote data:",{footnoteNumber:g,surahNo:m,ayahNo:i})}},t=()=>{h==="hi"&&w.length>0&&document.querySelectorAll("p[data-hindi-translation]").forEach((s,g)=>{const m=s.getAttribute("data-hindi-translation"),i=s.getAttribute("data-surah"),d=s.getAttribute("data-ayah"),x=s.innerHTML,f=m&&(m.includes('<sup class="f-note">')||m.includes("<sup>")),H=x.includes('<sup class="f-note">')||x.includes("<sup>"),J=!s.querySelector(".hindi-footnote-link");if((f||H)&&J){const za=ne.parseHindiTranslationWithClickableExplanations(m||x,parseInt(i),parseInt(d));s.innerHTML=za}})},o=document.createElement("style");o.textContent=`
      .hindi-footnote-link:hover {
        background-color: #0891b2 !important;
        transform: scale(1.05) !important;
      }
      .hindi-footnote-link:active {
        background-color: #0e7490 !important;
        transform: scale(0.95) !important;
      }
    `,document.head.appendChild(o),t();const l=setInterval(t,1e3);window.testHindiFootnotes=()=>{t()};const u=new MutationObserver(c=>{let s=!1;c.forEach(g=>{(g.type==="childList"||g.type==="attributes")&&g.addedNodes.forEach(m=>{m.nodeType===Node.ELEMENT_NODE&&(m.matches&&m.matches("p[data-hindi-translation]")||m.querySelector&&m.querySelector("p[data-hindi-translation]"))&&(s=!0)})}),s&&setTimeout(t,100)});return u.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-hindi-translation"]}),document.addEventListener("click",a),()=>{document.removeEventListener("click",a),document.head.removeChild(o),clearInterval(l),u.disconnect()}},[h,w]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const o=t.target.closest(".urdu-footnote-link");if(o){const l=o.getAttribute("data-footnote-id");o.getAttribute("data-footnote-number");const u=o.getAttribute("data-surah"),c=o.getAttribute("data-ayah");if(l&&u&&c){De(!0),Re(!0),ce("Loading...");try{const s=await fe.getFootnoteExplanation(l);ce(s)}catch(s){console.error("❌ Error loading Urdu footnote:",s),ce(`Error loading explanation: ${s.message}`)}finally{De(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h,w]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const o=t.target.closest(".bangla-explanation-link");if(o){const l=o.getAttribute("data-explanation-number"),u=o.getAttribute("data-surah"),c=o.getAttribute("data-ayah");if(l&&u&&c){Me(!0),Pe(!0),ae("Loading...");try{const s=await ye.getExplanationByNumber(parseInt(u),parseInt(c),l);ae(s||"Explanation not found.")}catch(s){console.error("❌ Error loading Bangla explanation:",s),ae("Error loading explanation.")}finally{Me(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h,w]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const o=t.target.closest(".english-footnote-link");if(o){const l=o.getAttribute("data-footnote-id"),u=o.getAttribute("data-surah"),c=o.getAttribute("data-ayah");if(l&&u&&c){_e(!0),We(!0),he("Loading...");try{const s=await be.getExplanation(parseInt(l));he(s)}catch(s){console.error("Error fetching English footnote explanation:",s),he(`Error loading explanation: ${s.message}`)}finally{_e(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h,w]),n.useEffect(()=>{},[Le]);const Je=()=>{const a=parseInt(r)-1;a>=1&&S(`/surah/${a}`)},Ke=()=>{const a=parseInt(r)+1;a<=114&&S(`/surah/${a}`)};n.useEffect(()=>{const a=()=>{window.scrollY>300?Fe(!0):Fe(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),n.useEffect(()=>{const a=t=>{const{type:o,message:l}=t.detail;o==="success"?L(l):o==="error"&&E(l)};return window.addEventListener("showToast",a),()=>{window.removeEventListener("showToast",a)}},[L,E]);const Da=async(a,t,o)=>{const l=`${a}
  
  "${t}"
  
  — Quran ${r}:${o}`;try{await navigator.clipboard.writeText(l),Z(o),setTimeout(()=>{Z(null)},2e3)}catch(u){console.error("Failed to copy text: ",u);try{const c=document.createElement("textarea");c.value=l,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),Z(o),setTimeout(()=>{Z(null)},2e3)}catch(c){console.error("Fallback copy failed: ",c)}}},Wa=async(a,t,o)=>{const l=`${a}

"${t}"

— Quran ${r}:${o}`,u=`${window.location.origin}/surah/${r}#verse-${o}`,c={title:`Quran ${r}:${o}`,text:l,url:u};try{if(navigator.share&&navigator.canShare&&navigator.canShare(c))await navigator.share(c),L("Verse shared successfully");else{const s=`${l}

Read more: ${u}`;await navigator.clipboard.writeText(s),L("Verse link copied to clipboard")}}catch(s){if(s.name==="AbortError")return;console.error("Error sharing verse:",s);try{const g=`${l}

Read more: ${u}`;await navigator.clipboard.writeText(g),L("Verse link copied to clipboard")}catch(g){console.error("Failed to copy to clipboard:",g),E("Failed to share verse. Please try again.")}}},W=()=>{p&&(p.pause(),p.currentTime=0,p.onended=null,p.onerror=null)};n.useEffect(()=>()=>{try{W()}catch{}N(!1),te(null),$(0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))},[]);const Q=(a,t=0,o=null)=>{if(!r)return;const l=o||me,u=w?.length||0;if(t>=l.length){a<u?Q(a+1,0,o):(N(!1),te(null),$(0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}})));return}N(!0);const c={quran:"qirath",translation:"translation",interpretation:"interpretation"},s=l[t],g=c[s]||"qirath";W(),$(t);const m=it({ayahNumber:a,surahNumber:parseInt(r),audioType:g,qariName:ue,playbackSpeed:se,onStart:()=>{te(a),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!0}}))},onEnd:()=>{Q(a,t+1,o)},onError:()=>{Q(a,t+1,o)}});He(m)},_=(a,t=0)=>{Q(a,t,null)},_a=a=>{if(b===a&&p){p.paused?p.play().then(()=>N(!0)).catch(()=>{}):(p.pause(),N(!1));return}$(0),_(a,0)},Oe=()=>{try{p&&!p.paused?(p.pause(),N(!1),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))):p&&p.paused?p.play().then(()=>{N(!0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!0}}))}).catch(()=>{}):($(0),_(1,0))}catch{}};pe.current=Oe;const Ha=()=>{W(),N(!1),te(null),$(0),He(null),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))};n.useEffect(()=>{ze&&p&&b&&(W(),N(!1),setTimeout(()=>{_(b,0)},100))},[ue,me]),n.useEffect(()=>{p&&(p.playbackRate=se)},[p,se]);const Ge=async()=>{try{Ce(!0),await O.downloadDatabase(),L("Tamil database downloaded successfully!"),await(async()=>{if(r)try{M(!0),R(null);const[t,o,l,u]=await Promise.all([Ze(),Xe(),ea(parseInt(r)),aa()]);let s=((d,x)=>{const f=x.filter(J=>J.SuraId===parseInt(d));return f.length===0?7:Math.max(...f.map(J=>J.ayato))})(r,u||[]);if(s===7&&t&&Array.isArray(t)){const d=t.find(x=>x.id===parseInt(r));d&&d.ayahs&&(s=d.ayahs)}const g=await O.getSurahTranslations(parseInt(r));if(g&&g.length>0)y(g);else{const d=Array.from({length:s},(x,f)=>({number:f+1,ArabicText:"",Translation:`Tamil translation not available for verse ${f+1}`}));y(d)}Te(l||[]);const m=t.find(d=>d.id===parseInt(r)),i=o.find(d=>d.number===parseInt(r));Se(m?{arabic:m.arabic,number:m.id,type:i?.type||"Makki"}:{arabic:"Unknown Surah",number:parseInt(r),type:"Makki"})}catch(t){R(t.message),console.error("Error fetching surah data:",t)}finally{M(!1)}})()}catch(a){console.error("Error downloading Tamil database:",a),E("Failed to download Tamil database. Please try again.")}finally{Ce(!1)}};return A?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading Surah data..."})]})})}):Ae?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 dark:text-red-400 text-lg mb-2",children:"Failed to load Surah data"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:Ae}),e.jsx("button",{onClick:Ra,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Try Again"})]})})}):e.jsxs("div",{children:[e.jsx(st,{toasts:la,removeToast:ia}),e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 shadow-md",children:[e.jsx("div",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"w-full max-w-[1290px] mx-auto text-center px-2 sm:px-0",children:[e.jsxs("div",{className:"sm:hidden space-y-3 sm:space-y-4 px-2",children:[Y&&e.jsxs("div",{className:"text-center",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Reading from Juz ",Y]}),e.jsx("button",{onClick:()=>S("/juz"),className:"ml-2 text-xs text-cyan-500 hover:text-cyan-600 dark:text-cyan-400 dark:hover:text-cyan-300 hover:underline",children:"Back to Juz"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-arabic dark:text-white text-gray-900 mb-3 sm:mb-4",children:ee?.arabic||"Loading..."}),h==="ta"&&!O.isDatabaseDownloaded()&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Tamil translation database is not downloaded. Download to view Tamil translations."}),e.jsx("button",{onClick:Ge,disabled:D,className:`px-6 py-2 rounded-lg font-medium transition-colors ${D?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:D?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Downloading..."})]}):"Download Tamil Database"})]})}),parseInt(r)!==1&&parseInt(r)!==9&&e.jsx("p",{className:"text-xl sm:text-2xl font-arabic text-gray-800 dark:text-white leading-relaxed px-4 pt-6 sm:pt-8",children:e.jsx("img",{src:F==="dark"?sa:ra,alt:"Bismillah",className:"w-auto h-8 sm:h-10 lg:h-12 xl:h-14 mx-auto"})}),v&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("div",{className:"flex bg-gray-100 dark:bg-[#323A3F] rounded-full p-1 shadow-sm w-[115px]",children:[e.jsx("button",{className:"px-2 sm:px-3 py-1.5 bg-white w-[55px] dark:bg-gray-900 dark:text-white text-gray-900 rounded-full text-xs font-medium shadow transition-colors",children:"Ayah"}),e.jsx("button",{className:"px-2 sm:px-3 py-1.5 w-[55px] text-gray-500 rounded-full dark:hover:bg-gray-800 dark:text-white text-xs font-medium hover:text-gray-700 transition-colors",onClick:ke,children:"Block"})]})})]}),e.jsxs("div",{className:"hidden sm:block",children:[Y&&e.jsxs("div",{className:"mb-2 text-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Reading from Juz ",Y]}),e.jsx("button",{onClick:()=>S("/juz"),className:"ml-2 text-sm text-cyan-500 hover:text-cyan-600 dark:text-cyan-400 dark:hover:text-cyan-300 hover:underline",children:"Back to Juz"})]}),e.jsxs("div",{className:"relative pb-4 sm:pb-6",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-arabic dark:text-white text-gray-900 mb-3 sm:mb-4",children:ee?.arabic||`Surah ${r}`}),h==="ta"&&!O.isDatabaseDownloaded()&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Tamil translation database is not downloaded. Download to view Tamil translations."}),e.jsx("button",{onClick:Ge,disabled:D,className:`px-6 py-2 rounded-lg font-medium transition-colors ${D?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:D?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Downloading..."})]}):"Download Tamil Database"})]})}),e.jsxs("div",{className:"mb-3 sm:mb-4 relative",children:[parseInt(r)!==1&&parseInt(r)!==9?e.jsx("div",{className:"flex flex-col items-center px-2 sm:px-4",children:e.jsx("img",{src:F==="dark"?sa:ra,alt:"Bismillah",className:"w-[236px] h-[52.9px] mb-2"})}):e.jsx("div",{className:"h-[52.9px] mb-2"}),(h==="mal"||h==="E")&&e.jsx("div",{className:"absolute top-0 right-4 sm:right-6 lg:right-11 hidden sm:block",children:e.jsxs("div",{className:"flex gap-1 sm:gap-2 bg-gray-100 dark:bg-[#323A3F] rounded-full p-1 shadow-sm",children:[e.jsx("button",{className:"flex items-center px-2 sm:px-3 lg:px-4 py-1.5 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-full text-xs sm:text-sm font-medium shadow-sm transition-colors min-h-[40px] sm:min-h-[44px]",children:"Ayah wise"}),e.jsx("button",{className:"flex items-center px-2 sm:px-3 lg:px-4 py-1.5 text-gray-500 rounded-full dark:text-white text-xs sm:text-sm font-medium hover:text-cyan-600 dark:hover:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-900/40 transition-colors min-h-[40px] sm:min-h-[44px]",onClick:ke,children:"Block wise"})]})})]})]})]})]})}),e.jsx("div",{className:"w-full max-w-[1290px] mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 bg-white dark:bg-gray-900",children:e.jsx("div",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:A&&w.length===0?e.jsx(rt,{count:7}):!A&&w.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No ayah data available for this surah."})}):!A&&w.length>0?e.jsxs(e.Fragment,{children:[w.map((a,t)=>{const o=Ne[t],l=o?.text_uthmani||"",u=Ne.find(s=>s.verse_key===`${r}:${t+1}`),c=l||u?.text_uthmani||"";return e.jsxs("div",{id:`verse-${t+1}`,className:"pt-3 sm:pt-4 pb-2 sm:pb-3 border-b border-gray-200 dark:border-gray-700 rounded-t-lg overflow-hidden transition-colors hover:bg-[#e8f2f6] dark:hover:bg-gray-800 active:bg-[#e8f2f6] mx-2 sm:mx-4",style:b===t+1?{backgroundColor:"rgba(76, 175, 80, 0.1)"}:void 0,children:[e.jsx("div",{className:"text-right mb-1.5 sm:mb-2",children:e.jsxs("p",{className:"leading-relaxed dark:text-white text-gray-900 px-4 sm:px-6 md:px-8",style:{fontFamily:z,fontSize:`${U}px`},dir:"rtl",children:[c," ",e.jsxs("span",{className:"whitespace-nowrap",children:["﴿",Ca(o?.verse_number||t+1),"﴾"]})]})}),e.jsx("div",{className:"text-left mb-1.5 sm:mb-2",children:h==="hi"?e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed px-4 sm:px-6 md:px-8 font-hindi font-normal",style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-hindi-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="ur"?e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed px-4 sm:px-6 md:px-8 font-urdu font-normal",style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-urdu-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="bn"?e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed px-4 sm:px-6 md:px-8 font-bengali font-normal",style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-bangla-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="ta"?e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed px-4 sm:px-6 md:px-8 font-tamil font-normal",style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-tamil-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="E"?e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed px-4 sm:px-6 md:px-8 font-poppins font-normal",style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-english-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="mal"?e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed px-4 sm:px-6 md:px-8 font-malayalam font-normal",style:{fontSize:`${k}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-malayalam-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed px-4 sm:px-6 md:px-8 font-poppins font-normal",style:{fontSize:`${k}px`},children:a.Translation})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 lg:gap-6 text-gray-500 dark:text-gray-300 px-4 sm:px-6 md:px-8",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[r,".",t+1]}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors relative",onClick:s=>{s.stopPropagation(),Da(c,a.Translation,t+1)},title:"Copy verse",children:da===t+1?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-xs text-green-500 font-medium hidden sm:inline",children:"Copied!"})]}):e.jsx(Ka,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:`p-1 transition-colors ${b===t+1?"text-cyan-600":"text-[#2AA0BF] hover:text-black"} ${b===t+1&&p&&!p.paused?"animate-pulse":""}`,onClick:s=>{s.stopPropagation(),_a(t+1)},title:b===t+1&&p&&!p.paused?"Pause ayah":b===t+1&&p&&p.paused?"Resume ayah":"Play ayah audio",children:b===t+1&&p&&!p.paused?e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx(Oa,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),h!=="ta"&&e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:s=>{s.stopPropagation(),Ba(t+1)},title:"View interpretation",children:e.jsx(Ga,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:s=>{s.stopPropagation(),Fa(t+1,s)},children:e.jsx(at,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:`p-1 transition-colors text-[#2AA0BF] hover:text-black ${ie[`${r}:${t+1}`]?"opacity-50 cursor-not-allowed":""}`,onClick:s=>Ma(s,t,c,a.Translation),disabled:ie[`${r}:${t+1}`],title:oe.has(`${r}:${t+1}`)?"Remove bookmark":"Add bookmark",children:ie[`${r}:${t+1}`]?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b border-current"}):e.jsx(Ya,{className:`w-3 h-3 sm:w-4 sm:h-4 ${oe.has(`${r}:${t+1}`)?"fill-current":""}`})}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:s=>{s.stopPropagation(),Wa(c,a.Translation,t+1)},title:"Share verse",children:e.jsx(Za,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]},t)}),h==="ur"&&C>0&&e.jsxs("div",{className:"flex flex-col items-center gap-3 py-6",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",Math.min(P,C)," of ",C," ayahs"]}),e.jsx("div",{ref:qe,className:"w-full flex items-center justify-center text-sm text-gray-500 dark:text-gray-400 h-12",children:P>=C?"All ayahs loaded":q?"Loading more ayahs…":"Scroll to load more ayahs"})]})]}):null})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 dark:border-gray-700 px-3 sm:px-4 lg:px-6 py-3 sm:py-4 mt-6 sm:mt-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"sm:hidden space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:Je,disabled:parseInt(r)<=1,className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg w-[173.96px] min-h-[44px]
                             disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(na,{className:"w-3 h-3"}),e.jsx("span",{children:"Previous Surah"})]}),e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg min-h-[44px]`,children:[e.jsx(ge,{className:"w-3 h-3"}),e.jsx("span",{children:"Beginning of Surah"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:Ke,disabled:parseInt(r)>=114,className:`w-[173.96px] flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg min-h-[44px]
                             disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{children:"Next Surah"}),e.jsx(Ye,{className:"w-3 h-3"})]})})]}),e.jsxs("div",{className:"hidden sm:flex items-center justify-center space-x-3 sm:space-x-4 lg:space-x-6",children:[e.jsxs("button",{onClick:Je,disabled:parseInt(r)<=1,className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg
                           disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(na,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Previous Surah"})]}),e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg`,children:[e.jsx(ge,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Beginning of Surah"})]}),e.jsxs("button",{onClick:Ke,disabled:parseInt(r)>=114,className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg
                           disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{children:"Next Surah"}),e.jsx(Ye,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]})}),ca&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-[9999] pt-24 sm:pt-28 lg:pt-32 p-2 sm:p-4 lg:p-6 overflow-hidden",children:e.jsx(Xa,{selectedVerse:ha,surahId:r,onClose:Ia,onNavigate:La,onSurahChange:$a})}),ua&&e.jsx(et,{surahId:r,verseId:ma,onClose:Pa}),Le&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Hindi Explanation"}),e.jsx("button",{onClick:()=>$e(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:ga?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:pa})})})]})}),fa&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bangla Explanation"}),e.jsx("button",{onClick:()=>Pe(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:ba?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:ya})})})]})}),wa&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Urdu Explanation"}),e.jsx("button",{onClick:()=>Re(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:va?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:ka})})})]})}),ja&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"English Explanation"}),e.jsx("button",{onClick:()=>We(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Ta?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${k}px`},children:Na})})})]})}),xa&&e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`fixed right-6 z-[60] bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-700 text-white rounded-full p-3 shadow-lg transition-all duration-300 hover:scale-110 flex items-center justify-center ${b?"bottom-32 sm:bottom-36":"bottom-6"}`,title:"Beginning of Surah","aria-label":"Beginning of Surah",children:e.jsx(ge,{className:"w-6 h-6"})}),b&&e.jsx(nt,{audioElement:p,isPlaying:ze&&p&&!p.paused,currentAyah:b,totalAyahs:w?.length||0,surahInfo:ee,onPlayPause:Oe,onStop:Ha,onSkipBack:()=>{b&&b>1&&($(0),_(b-1,0))},onSkipForward:()=>{const a=w?.length||0;b&&b<a&&($(0),_(b+1,0))},onClose:null,selectedQari:ue,onQariChange:a=>{Sa(a),b&&(W(),N(!1),setTimeout(()=>{_(b,0)},50))},translationLanguage:h,audioTypes:me,onAudioTypesChange:a=>{const t=b;Aa(a),t&&(W(),N(!1),setTimeout(()=>{Q(t,0,a)},50))},playbackSpeed:se,onPlaybackSpeedChange:a=>{Ea(a)}})]})})]})};export{Pt as default};
