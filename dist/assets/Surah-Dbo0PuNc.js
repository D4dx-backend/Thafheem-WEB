import{u as Za,g as Xa,d as et,a as at,b as tt,r as n,j as e,C as rt,P as st,B as nt,n as ot,o as lt,p as ra,q as sa,t as na,v as oa,f as la,w as ia,x as O}from"./index-B7u_SSOz.js";import{W as it,A as ct}from"./WordByWord-CkrSEn2v.js";import{V as ca,D as da,B as ha,A as ye}from"./LoadingSkeleton-DZJI2H_L.js";import{W as dt}from"./WordByWordIcon-DqXWQqc-.js";import{u as ht,T as ut}from"./Toast-D4Nb5re8.js";import G from"./tamilTranslationService-Nmj16z_z.js";import ne from"./hindiTranslationService-CFfqL_Tk.js";import be from"./urduTranslationService-DSQwp1l5.js";import we from"./banglaTranslationService-CRMal1nz.js";import ke from"./englishTranslationService-DpzBpiF9.js";import{A as ua,B as ma}from"./ViewToggleIcons-DT94-_81.js";import mt from"./StickyAudioPlayer-CwiBEhYY.js";import{s as xt}from"./readingProgressService-DFoY0i0J.js";import{g as pt,s as xa}from"./surahNameUtils-CNmXwDjY.js";import{C as pa}from"./chevron-left-B6JAG1f4.js";import"./tamilWordByWordService-CbdEWK98.js";import"./hindiWordByWordService-C4orOXOT.js";import"./banglaWordByWordService-BjQoe-Kj.js";import"./apiService-CSIDMmbA.js";import"./volume-x-D_zez6nW.js";import"./volume-2-CXSwBq65.js";import"./skip-forward-Cf5imDPc.js";import"./surahNameUnicodes-C_pntk6C.js";const gt={"al-ghamidi":"G","al-afasy":"A","al-hudaify":"H"};function ft({ayahNumber:z,surahNumber:U,audioType:v="qirath",qariName:h="al-afasy"}){const I=String(U).padStart(3,"0"),A=String(z).padStart(3,"0");if(v==="translation")return`https://old.thafheem.net/audio/translation/T${I}_${A}.ogg`;if(v==="interpretation")return`https://old.thafheem.net/audio/interpretation/I${I}_${A}.ogg`;const N=`Q${gt[h]||"A"}`;return`https://old.thafheem.net/audio/qirath/${h}/${N}${I}_${A}.ogg`}function yt({ayahNumber:z,surahNumber:U,audioType:v="qirath",qariName:h="al-afasy",playbackSpeed:I=1,onStart:A,onEnd:L,onError:N}){const S=ft({ayahNumber:z,surahNumber:U,audioType:v,qariName:h}),r=new Audio(S);return r.preload="none",r.playbackRate=I,r.onplay=()=>{typeof A=="function"&&A()},typeof L=="function"&&(r.onended=L),typeof N=="function"&&(r.onerror=N),r.play().catch(E=>{typeof N=="function"&&N(E)}),r}const ga=20,Ot=()=>{const{quranFont:z,fontSize:U,translationFontSize:v,translationLanguage:h,theme:I,viewType:A,setViewType:L}=Za(),N=h==="mal"||h==="E",{user:S}=Xa(),{surahId:r}=et(),E=at(),Y=tt(),{pathname:ve}=Y,{toasts:fa,removeToast:ya,showSuccess:B,showError:$}=ht(),je=n.useCallback(()=>{N&&L("Block Wise")},[L,N]);n.useEffect(()=>{if(!N&&A!=="Ayah Wise"){L("Ayah Wise");return}if(N&&A==="Block Wise"){const a=`/blockwise/${r}`;ve!==a&&E(a)}},[A,N,r,E,ve,L]);const Z=new URLSearchParams(Y.search).get("fromJuz"),[ba,X]=n.useState(null),[wa,ee]=n.useState(!1),[ka,q]=n.useState(null),[va,Ne]=n.useState(!1),[ja,Se]=n.useState(null),[k,b]=n.useState([]),[Te,Ae]=n.useState([]),[oe,Ee]=n.useState(null),[C,W]=n.useState(!0),[bt,wt]=n.useState(0),[Ce,D]=n.useState(null),[le,ie]=n.useState(new Set),[ce,$e]=n.useState({}),[_,Fe]=n.useState(!1),[Na,Ie]=n.useState(!1),[kt,Le]=n.useState(!1),[vt,jt]=n.useState(!1),[Be,Pe]=n.useState(!1),[Sa,de]=n.useState(""),[Ta,Me]=n.useState(!1),[Aa,Re]=n.useState(!1),[Ea,ae]=n.useState(""),[Ca,We]=n.useState(!1),[$a,De]=n.useState(!1),[Fa,he]=n.useState(""),[Ia,_e]=n.useState(!1),[La,He]=n.useState(!1),[Ba,ue]=n.useState(""),[Pa,Ve]=n.useState(!1),[w,te]=n.useState(null),[me,Ma]=n.useState("al-afasy"),[xe,Ra]=n.useState(["quran"]),[re,Wa]=n.useState(1),[Nt,P]=n.useState(0),[p,ze]=n.useState(null),[Ue,T]=n.useState(!1),M=n.useRef(null);n.useRef(new Map);const[F,qe]=n.useState(0),[R,pe]=n.useState(0),[Q,Qe]=n.useState(!1),Je=n.useRef(null);n.useEffect(()=>{r&&xt({surahId:r,viewType:"surah",path:`/surah/${r}`})},[r]);const Da=a=>{const t=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];return a.toString().split("").map(l=>t[l]||l).join("")},se=n.useCallback(async(a,t,l=!1)=>{if(!r||h!=="ur")return;const i=parseInt(r,10);if(!Number.isNaN(i)){Qe(!0);try{const m=Array.from({length:t-a+1},(s,u)=>a+u),d=await Promise.all(m.map(async s=>{const u=await be.getAyahTranslation(i,s)||"",o=be.parseUrduTranslationWithClickableFootnotes(u,i,s);return{number:s,ArabicText:"",Translation:o,RawTranslation:u}}));b(s=>l?d:[...s,...d]),pe(t)}catch(m){throw l&&b([]),console.error(`Error fetching Urdu translations for ayahs ${a}-${t}:`,m),m}finally{Qe(!1)}}},[r,h]),Ke=n.useCallback(async()=>{if(h!=="ur"||Q||R>=F)return;const a=R+1,t=Math.min(R+ga,F);try{await se(a,t)}catch{$?.("Failed to load more Urdu ayahs. Please try again.")}},[Q,se,F,$,R,h]);n.useEffect(()=>{if(h!=="ur")return;const a=Je.current;if(!a)return;const t=new IntersectionObserver(l=>{l[0]?.isIntersecting&&!Q&&R<F&&Ke()},{root:null,rootMargin:"200px",threshold:.1});return t.observe(a),()=>{t.disconnect()}},[Ke,Q,F,h,R]);const ge=n.useRef(null);n.useEffect(()=>{const a=()=>{ge.current&&ge.current()};return window.addEventListener("playAudio",a),()=>{window.removeEventListener("playAudio",a)}},[]),n.useEffect(()=>{const t=new URLSearchParams(Y.search).get("wordByWord");if(t){const l=parseInt(t)||1,i=setTimeout(()=>{q(l),ee(!0);const m=new URL(window.location);m.searchParams.delete("wordByWord"),window.history.replaceState({},"",m.pathname)},500);return()=>clearTimeout(i)}},[Y.search,C]),n.useEffect(()=>{if(h==="hi"&&k.length>0&&!C){const a=[200,500,1e3,2e3].map(t=>setTimeout(()=>{document.querySelectorAll("p[data-hindi-translation]").forEach((i,m)=>{const d=i.getAttribute("data-hindi-translation"),s=i.getAttribute("data-surah"),u=i.getAttribute("data-ayah"),o=i.innerHTML,j=d&&(d.includes('<sup class="f-note">')||d.includes("<sup>")),y=o.includes('<sup class="f-note">')||o.includes("<sup>"),c=!i.querySelector(".hindi-footnote-link");if((j||y)&&c){const x=ne.parseHindiTranslationWithClickableExplanations(d||o,parseInt(s),parseInt(u));i.innerHTML=x}})},t));return()=>a.forEach(t=>clearTimeout(t))}},[h,k,C]),n.useEffect(()=>()=>{M.current&&(M.current.pause(),M.current.src="",M.current.currentTime=0,M.current.onended=null,M.current.onerror=null,M.current=null)},[]),n.useEffect(()=>{M.current=p},[p]),n.useEffect(()=>{let a=!0,t=new AbortController;return(async()=>{if(r)try{if(!a)return;W(!0),D(null);const[i,m,d,s]=await Promise.all([sa(),na(),oa(parseInt(r)),la()]);if(!a)return;let o=((c,x)=>{const f=x.filter(K=>K.SuraId===parseInt(c));return f.length===0?7:Math.max(...f.map(K=>K.ayato))})(r,s||[]);if(o===7&&i&&Array.isArray(i)){const c=i.find(x=>x.id===parseInt(r));c&&c.ayahs&&(o=c.ayahs)}if(!a)return;if(h!=="ur"&&(qe(0),pe(0)),h==="ta")try{const c=await G.getSurahTranslations(parseInt(r));if(!a)return;if(c&&c.length>0)b(c);else{const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:`Tamil translation not available for verse ${g+1}`}));b(x)}}catch(c){if(!a)return;c.name!=="AbortError"&&console.error("Error fetching Tamil translations:",c);const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:"Tamil translation service unavailable. Please try again later."}));b(x)}else if(h==="hi")try{const c=await ne.getSurahTranslations(parseInt(r));if(!a)return;c&&c.length>0?b(c):(console.warn("No Hindi translations found"),b([]))}catch(c){if(!a)return;c.name!=="AbortError"&&console.error("Error fetching Hindi translations:",c);const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:"Hindi translation service unavailable. Please try again later."}));b(x)}else if(h==="ur")try{if(!a)return;if(qe(o),pe(0),b([]),o>0){const c=Math.min(ga,o);if(await se(1,c,!0),!a)return}}catch(c){if(!a)return;c.name!=="AbortError"&&console.error("Error fetching Urdu translations:",c);const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:"Urdu translation service unavailable. Please try again later."}));b(x)}else if(h==="bn")try{const c=await we.getSurahTranslations(parseInt(r));if(!a)return;if(c&&c.length>0){const x=c.map(f=>({...f,Translation:we.parseBanglaTranslationWithClickableExplanations(f.Translation,parseInt(r),f.number)}));b(x)}else{const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:`Bangla translation not available for verse ${g+1}`}));b(x)}}catch(c){if(!a)return;c.name!=="AbortError"&&console.error("Error fetching Bangla translations:",c);const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:"Bangla translation service unavailable. Please try again later."}));b(x)}else if(h==="E")try{const c=await ke.getSurahTranslations(parseInt(r));if(!a)return;if(c&&c.length>0){const x=c.map(f=>({...f,Translation:ke.parseEnglishTranslationWithClickableFootnotes(f.Translation,parseInt(r),f.number),interpretationCount:0}));b(x)}else{const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:`English translation not available for verse ${g+1}`}));b(x)}}catch(c){if(!a)return;c.name!=="AbortError"&&console.error("Error fetching English translations:",c);const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:"English translation service unavailable. Please try again later."}));b(x)}else{const c=await ia(parseInt(r));if(!a)return;if(!c||!Array.isArray(c)||c.length===0){const x=Array.from({length:o},(f,g)=>({number:g+1,ArabicText:"",Translation:`Translation not available for verse ${g+1}. The API server may be temporarily unavailable. Please try again later.`}));b(x)}else{const x=c.map(f=>({number:f.contiayano||0,ArabicText:"",Translation:(f.AudioText||"").replace(/<sup[^>]*foot_note[^>]*>\d+<\/sup>/g,"").replace(/\s+/g," ").trim()}));b(x)}}if(!a)return;Ae(d||[]);const j=i.find(c=>c.id===parseInt(r)),y=m.find(c=>c.number===parseInt(r));Ee(j?{arabic:j.arabic,number:j.id,type:y?.type||"Makki"}:{arabic:"Unknown Surah",number:parseInt(r),type:"Makki"})}catch(i){a&&i.name!=="AbortError"&&(D(i.message),console.error("Error fetching surah data:",i))}finally{a&&W(!1)}})(),()=>{a=!1,t.abort()}},[r,h,se]),n.useEffect(()=>{(async()=>{if(!(!S||!r))try{const t=await O.getBookmarks(S.uid,"translation"),l=new Set(t.filter(i=>i.surahId===parseInt(r)).map(i=>`${i.surahId}:${i.verseId}`));ie(l)}catch(t){console.error("Error loading bookmarks:",t)}})()},[S,r]),n.useEffect(()=>{(async()=>{if(!S||!r){Le(!1);return}try{const t=await O.isFavorited(S.uid,r);Le(t)}catch(t){console.error("Error loading favorite status:",t)}})()},[S,r]),n.useEffect(()=>{const a=()=>{const t=window.location.hash;if(t&&t.startsWith("#verse-")){const l=parseInt(t.replace("#verse-",""));l&&!C&&k.length>0&&setTimeout(()=>{const i=document.getElementById(`verse-${l}`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.style.backgroundColor="#fef3c7",setTimeout(()=>{i.style.backgroundColor=""},2e3))},500)}};return!C&&k.length>0&&setTimeout(a,100),window.addEventListener("hashchange",a),window.addEventListener("popstate",a),()=>{window.removeEventListener("hashchange",a),window.removeEventListener("popstate",a)}},[C,k,r]);const _a=(a,t)=>{if(t?.ctrlKey||t?.metaKey){t?.preventDefault(),t?.stopPropagation();const i=`/word-by-word/${r}/${a}`;window.open(i,"_blank","noopener,noreferrer");return}q(a),ee(!0)},Ha=()=>{ee(!1),q(null)},Va=a=>{q(a)},za=a=>{ee(!1),q(null),E(`/surah/${a}?wordByWord=1`)},Ua=async a=>{try{parseInt(r),Se(a),Ne(!0)}catch(t){console.error("Error opening interpretation:",t),$("Failed to load interpretation. Please try again.")}},qa=()=>{Ne(!1),Se(null)},Qa=async(a,t,l,i)=>{if(a.stopPropagation(),!S){$("Please sign in to bookmark verses"),E("/sign");return}const m=t+1,d=`${r}:${m}`;try{if($e(s=>({...s,[d]:!0})),le.has(d)){const u=(await O.getBookmarks(S.uid,"translation")).find(o=>o.surahId===parseInt(r)&&o.verseId===m);u&&await O.deleteBookmark(u.id,S.uid),ie(o=>{const j=new Set(o);return j.delete(d),j}),B("Bookmark removed successfully")}else await O.addBookmark(S.uid,r,m,"translation",oe?.arabic||`Surah ${r}`,`${l} - ${i}`),ie(s=>new Set([...s,d])),B("Verse bookmarked successfully")}catch(s){console.error("Error managing bookmark:",s),$("Failed to manage bookmark. Please try again.")}finally{$e(s=>({...s,[d]:!1}))}},Ja=()=>{D(null),W(!0),ia(parseInt(r)).then(b).catch(a=>{D(a.message),console.error("Error fetching ayah data on retry:",a)}).finally(()=>W(!1))};n.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[r]),n.useEffect(()=>{const a=async d=>{d.preventDefault(),d.stopPropagation();const s=d.target.closest(".hindi-footnote-link");if(s){const u=s.getAttribute("data-footnote"),o=s.getAttribute("data-surah"),j=s.getAttribute("data-ayah");if(u&&o&&j){Me(!0),Pe(!0),de("Loading...");try{const y=await ne.getExplanationByNumber(parseInt(o),parseInt(j),u);de(y)}catch(y){console.error("Error fetching Hindi footnote explanation:",y),de(`Error loading explanation: ${y.message}`)}finally{Me(!1)}}else console.error("Missing footnote data:",{footnoteNumber:u,surahNo:o,ayahNo:j})}},t=()=>{h==="hi"&&k.length>0&&document.querySelectorAll("p[data-hindi-translation]").forEach((s,u)=>{const o=s.getAttribute("data-hindi-translation"),j=s.getAttribute("data-surah"),y=s.getAttribute("data-ayah"),c=s.innerHTML,x=o&&(o.includes('<sup class="f-note">')||o.includes("<sup>")),f=c.includes('<sup class="f-note">')||c.includes("<sup>"),g=!s.querySelector(".hindi-footnote-link");if((x||f)&&g){const K=ne.parseHindiTranslationWithClickableExplanations(o||c,parseInt(j),parseInt(y));s.innerHTML=K}})},l=document.createElement("style");l.textContent=`
      .hindi-footnote-link:hover {
        background-color: #0891b2 !important;
        transform: scale(1.05) !important;
      }
      .hindi-footnote-link:active {
        background-color: #0e7490 !important;
        transform: scale(0.95) !important;
      }
    `,document.head.appendChild(l),t();const i=setInterval(t,1e3);window.testHindiFootnotes=()=>{t()};const m=new MutationObserver(d=>{let s=!1;d.forEach(u=>{(u.type==="childList"||u.type==="attributes")&&u.addedNodes.forEach(o=>{o.nodeType===Node.ELEMENT_NODE&&(o.matches&&o.matches("p[data-hindi-translation]")||o.querySelector&&o.querySelector("p[data-hindi-translation]"))&&(s=!0)})}),s&&setTimeout(t,100)});return m.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-hindi-translation"]}),document.addEventListener("click",a),()=>{document.removeEventListener("click",a),document.head.removeChild(l),clearInterval(i),m.disconnect()}},[h,k]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const l=t.target.closest(".urdu-footnote-link");if(l){const i=l.getAttribute("data-footnote-id");l.getAttribute("data-footnote-number");const m=l.getAttribute("data-surah"),d=l.getAttribute("data-ayah");if(i&&m&&d){_e(!0),De(!0),he("Loading...");try{const s=await be.getFootnoteExplanation(i);he(s)}catch(s){console.error("❌ Error loading Urdu footnote:",s),he(`Error loading explanation: ${s.message}`)}finally{_e(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h,k]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const l=t.target.closest(".bangla-explanation-link");if(l){const i=l.getAttribute("data-explanation-number"),m=l.getAttribute("data-surah"),d=l.getAttribute("data-ayah");if(i&&m&&d){We(!0),Re(!0),ae("Loading...");try{const s=await we.getExplanationByNumber(parseInt(m),parseInt(d),i);ae(s||"Explanation not found.")}catch(s){console.error("❌ Error loading Bangla explanation:",s),ae("Error loading explanation.")}finally{We(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h,k]),n.useEffect(()=>{const a=async t=>{t.preventDefault(),t.stopPropagation();const l=t.target.closest(".english-footnote-link");if(l){const i=l.getAttribute("data-footnote-id"),m=l.getAttribute("data-surah"),d=l.getAttribute("data-ayah");if(i&&m&&d){Ve(!0),He(!0),ue("Loading...");try{const s=await ke.getExplanation(parseInt(i));ue(s)}catch(s){console.error("Error fetching English footnote explanation:",s),ue(`Error loading explanation: ${s.message}`)}finally{Ve(!1)}}}};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h,k]),n.useEffect(()=>{},[Be]);const Oe=()=>{const a=parseInt(r)-1;a>=1&&E(`/surah/${a}`)},Ge=()=>{const a=parseInt(r)+1;a<=114&&E(`/surah/${a}`)};n.useEffect(()=>{const a=()=>{window.scrollY>300?Ie(!0):Ie(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),n.useEffect(()=>{const a=t=>{const{type:l,message:i}=t.detail;l==="success"?B(i):l==="error"&&$(i)};return window.addEventListener("showToast",a),()=>{window.removeEventListener("showToast",a)}},[B,$]);const Ye=a=>{if(!a)return"";if(typeof document>"u")return a.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim();const t=document.createElement("div");return t.innerHTML=a,t.querySelectorAll(".english-footnote-link, .footnote-link, sup.f-note").forEach(l=>l.remove()),(t.textContent||t.innerText||"").replace(/\s+/g," ").trim()},Ka=async(a,t,l)=>{const i=Ye(t),m=`${a}
  
  "${i}"
  
  — Quran ${r}:${l}`;try{await navigator.clipboard.writeText(m),X(l),setTimeout(()=>{X(null)},2e3)}catch(d){console.error("Failed to copy text: ",d);try{const s=document.createElement("textarea");s.value=m,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),X(l),setTimeout(()=>{X(null)},2e3)}catch(s){console.error("Fallback copy failed: ",s)}}},Oa=async(a,t,l)=>{const i=Ye(t),m=`${a}

"${i}"

— Quran ${r}:${l}`,d=`${window.location.origin}/surah/${r}#verse-${l}`,s={title:`Quran ${r}:${l}`,text:m,url:d};try{if(navigator.share&&navigator.canShare&&navigator.canShare(s))await navigator.share(s),B("Verse shared successfully");else{const u=`${m}

Read more: ${d}`;await navigator.clipboard.writeText(u),B("Verse link copied to clipboard")}}catch(u){if(u.name==="AbortError")return;console.error("Error sharing verse:",u);try{const o=`${m}

Read more: ${d}`;await navigator.clipboard.writeText(o),B("Verse link copied to clipboard")}catch(o){console.error("Failed to copy to clipboard:",o),$("Failed to share verse. Please try again.")}}},H=()=>{p&&(p.pause(),p.currentTime=0,p.onended=null,p.onerror=null)};n.useEffect(()=>()=>{try{H()}catch{}T(!1),te(null),P(0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))},[]);const J=(a,t=0,l=null)=>{if(!r)return;const i=l||xe,m=k?.length||0;if(t>=i.length){a<m?J(a+1,0,l):(T(!1),te(null),P(0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}})));return}T(!0);const d={quran:"qirath",translation:"translation",interpretation:"interpretation"},s=i[t],u=d[s]||"qirath";H(),P(t);const o=yt({ayahNumber:a,surahNumber:parseInt(r),audioType:u,qariName:me,playbackSpeed:re,onStart:()=>{te(a),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!0}}))},onEnd:()=>{J(a,t+1,l)},onError:()=>{J(a,t+1,l)}});ze(o)},V=(a,t=0)=>{J(a,t,null)},Ga=a=>{if(w===a&&p){p.paused?p.play().then(()=>T(!0)).catch(()=>{}):(p.pause(),T(!1));return}P(0),V(a,0)},Ze=()=>{try{p&&!p.paused?(p.pause(),T(!1),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))):p&&p.paused?p.play().then(()=>{T(!0),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!0}}))}).catch(()=>{}):(P(0),V(1,0))}catch{}};ge.current=Ze;const Ya=()=>{H(),T(!1),te(null),P(0),ze(null),window.dispatchEvent(new CustomEvent("audioStateChange",{detail:{isPlaying:!1}}))};n.useEffect(()=>{Ue&&p&&w&&(H(),T(!1),setTimeout(()=>{V(w,0)},100))},[me,xe]),n.useEffect(()=>{p&&(p.playbackRate=re)},[p,re]);const Xe=async()=>{try{Fe(!0),await G.downloadDatabase(),B("Tamil database downloaded successfully!"),await(async()=>{if(r)try{W(!0),D(null);const[t,l,i,m]=await Promise.all([sa(),na(),oa(parseInt(r)),la()]);let s=((y,c)=>{const x=c.filter(g=>g.SuraId===parseInt(y));return x.length===0?7:Math.max(...x.map(g=>g.ayato))})(r,m||[]);if(s===7&&t&&Array.isArray(t)){const y=t.find(c=>c.id===parseInt(r));y&&y.ayahs&&(s=y.ayahs)}const u=await G.getSurahTranslations(parseInt(r));if(u&&u.length>0)b(u);else{const y=Array.from({length:s},(c,x)=>({number:x+1,ArabicText:"",Translation:`Tamil translation not available for verse ${x+1}`}));b(y)}Ae(i||[]);const o=t.find(y=>y.id===parseInt(r)),j=l.find(y=>y.number===parseInt(r));Ee(o?{arabic:o.arabic,number:o.id,type:j?.type||"Makki"}:{arabic:"Unknown Surah",number:parseInt(r),type:"Makki"})}catch(t){D(t.message),console.error("Error fetching surah data:",t)}finally{W(!1)}})()}catch(a){console.error("Error downloading Tamil database:",a),$("Failed to download Tamil database. Please try again.")}finally{Fe(!1)}};if(C)return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"h-12 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded w-48 mx-auto mb-4 relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/60 dark:via-white/10 to-transparent"})}),e.jsx("div",{className:"h-6 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded w-32 mx-auto relative overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/60 dark:via-white/10 to-transparent"})})]}),e.jsx(ca,{count:5})]})});if(Ce)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 dark:text-red-400 text-lg mb-2",children:"Failed to load Surah data"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:Ce}),e.jsx("button",{onClick:Ja,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Try Again"})]})})});const fe=oe?.arabic||(r?`Surah ${r}`:"Surah"),ea=pt(r,fe),aa=r?String(r):"",ta=aa==="1"||aa==="2"?"font-normal":"font-semibold";return e.jsxs("div",{children:[e.jsx(ut,{toasts:fa,removeToast:ya}),e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"sticky top-0 z-40 bg-white dark:bg-gray-900 shadow-md",children:[e.jsx("div",{className:"px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"w-full max-w-[1290px] mx-auto text-center px-2 sm:px-0",children:[e.jsxs("div",{className:"sm:hidden space-y-3 sm:space-y-4 px-2",children:[Z&&e.jsxs("div",{className:"text-center",children:[e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Reading from Juz ",Z]}),e.jsx("button",{onClick:()=>E("/juz"),className:"ml-2 text-xs text-cyan-500 hover:text-cyan-600 dark:text-cyan-400 dark:hover:text-cyan-300 hover:underline",children:"Back to Juz"})]}),e.jsx("h1",{className:`text-4xl sm:text-5xl font-arabic dark:text-white text-gray-900 mb-6 sm:mb-8 px-4 ${ta}`,style:{fontFamily:xa},"aria-label":fe,children:ea}),h==="ta"&&!G.isDatabaseDownloaded()&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Tamil translation database is not downloaded. Download to view Tamil translations."}),e.jsx("button",{onClick:Xe,disabled:_,className:`px-6 py-2 rounded-lg font-medium transition-colors ${_?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,title:"Ayah wise view",children:_?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Downloading..."})]}):"Download Tamil Database"})]})}),parseInt(r)!==1&&parseInt(r)!==9&&e.jsx("p",{className:"text-xl sm:text-2xl font-arabic text-gray-800 dark:text-white leading-relaxed px-6 pt-8 pb-6 sm:px-8 sm:pt-10 sm:pb-8",children:e.jsx("img",{src:I==="dark"?da:ha,alt:"Bismillah",className:"w-auto h-8 sm:h-10 lg:h-12 xl:h-14 mx-auto"})}),N&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("div",{className:"flex bg-gray-100 dark:bg-[#323A3F] rounded-full p-1 shadow-sm",children:[e.jsxs("button",{className:"flex items-center justify-center px-2 py-1.5 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-full shadow transition-colors whitespace-nowrap","aria-label":"Ayah wise view selected",title:"Ayah wise view",children:[e.jsx(ua,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Ayah wise"})]}),e.jsxs("button",{className:"flex items-center justify-center px-2 py-1.5 text-gray-500 rounded-full dark:text-white hover:text-cyan-600 dark:hover:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-900/40 transition-colors whitespace-nowrap",onClick:je,"aria-label":"Switch to block wise view",title:"Switch to block wise view",children:[e.jsx(ma,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Block wise"})]})]})})]}),e.jsxs("div",{className:"hidden sm:block",children:[Z&&e.jsxs("div",{className:"mb-2 text-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Reading from Juz ",Z]}),e.jsx("button",{onClick:()=>E("/juz"),className:"ml-2 text-sm text-cyan-500 hover:text-cyan-600 dark:text-cyan-400 dark:hover:text-cyan-300 hover:underline",children:"Back to Juz"})]}),e.jsxs("div",{className:"relative pb-4 sm:pb-6",children:[e.jsx("h1",{className:`text-4xl sm:text-5xl font-arabic dark:text-white text-gray-900 mb-6 sm:mb-8 px-4 sm:px-6 ${ta}`,style:{fontFamily:xa},"aria-label":fe,children:ea}),h==="ta"&&!G.isDatabaseDownloaded()&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Tamil translation database is not downloaded. Download to view Tamil translations."}),e.jsx("button",{onClick:Xe,disabled:_,className:`px-6 py-2 rounded-lg font-medium transition-colors ${_?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:_?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Downloading..."})]}):"Download Tamil Database"})]})}),e.jsxs("div",{className:"mb-3 sm:mb-4 relative",children:[parseInt(r)!==1&&parseInt(r)!==9?e.jsx("div",{className:"flex flex-col items-center px-4 sm:px-6 pt-8 pb-6 sm:pt-10 sm:pb-8",children:e.jsx("img",{src:I==="dark"?da:ha,alt:"Bismillah",className:"w-[236px] h-[52.9px] mb-2"})}):e.jsx("div",{className:"h-[52.9px] mb-2"}),(h==="mal"||h==="E")&&e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-4 sm:right-6 lg:right-11 hidden sm:block",children:e.jsxs("div",{className:"flex gap-1 bg-gray-100 dark:bg-[#323A3F] rounded-full p-1 shadow-sm",children:[e.jsxs("button",{className:"flex items-center justify-center px-3 py-1.5 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-full shadow-sm transition-colors whitespace-nowrap","aria-label":"Ayah wise view selected",title:"Ayah wise view",children:[e.jsx(ua,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"sr-only",children:"Ayah wise"})]}),e.jsxs("button",{className:"flex items-center justify-center px-3 py-1.5 text-gray-500 rounded-full dark:text-white hover:text-cyan-600 dark:hover:text-cyan-400 hover:bg-cyan-50 dark:hover:bg-cyan-900/40 transition-colors whitespace-nowrap",onClick:je,"aria-label":"Switch to block wise view",title:"Switch to block wise view",children:[e.jsx(ma,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"sr-only",children:"Block wise"})]})]})})]})]})]})]})}),e.jsx("div",{className:"w-full max-w-[1290px] mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 bg-white dark:bg-gray-900",children:e.jsx("div",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:C&&k.length===0?e.jsx(ca,{count:7}):!C&&k.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No ayah data available for this surah."})}):!C&&k.length>0?e.jsxs(e.Fragment,{children:[k.map((a,t)=>{const l=Te[t],i=l?.text_uthmani||"",m=Te.find(o=>o.verse_key===`${r}:${t+1}`),d=i||m?.text_uthmani||"",s=w===t+1,u=`leading-relaxed px-4 sm:px-6 md:px-8 ${s?"text-cyan-700 dark:text-cyan-300":"text-gray-700 dark:text-white"}`;return e.jsxs("div",{id:`verse-${t+1}`,className:"pt-3 sm:pt-4 pb-2 sm:pb-3 border-b border-gray-200 dark:border-gray-700 rounded-t-lg overflow-hidden transition-colors hover:bg-[#e8f2f6] dark:hover:bg-gray-800 active:bg-[#e8f2f6] mx-2 sm:mx-4",children:[e.jsx("div",{className:"text-right mb-3 sm:mb-4",children:e.jsxs("p",{className:`px-4 sm:px-6 md:px-8 ${s?"text-cyan-700 dark:text-cyan-300":"text-gray-900 dark:text-white"}`,style:{fontFamily:z,fontSize:`${U}px`,lineHeight:"2.2"},dir:"rtl",children:[d," ",e.jsxs("span",{className:"whitespace-nowrap",children:["﴿",Da(l?.verse_number||t+1),"﴾"]})]})}),e.jsx("div",{className:"text-left mt-2 sm:mt-3 mb-1.5 sm:mb-2",children:h==="hi"?e.jsx("p",{className:`${u} font-hindi font-normal`,style:{fontSize:`${v}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-hindi-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="ur"?e.jsx("p",{className:`${u} font-urdu font-normal`,style:{fontSize:`${v}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-urdu-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="bn"?e.jsx("p",{className:`${u} font-bengali font-normal`,style:{fontSize:`${v}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-bangla-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="ta"?e.jsx("p",{className:`${u} font-tamil font-normal`,style:{fontSize:`${v}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-tamil-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="E"?e.jsx("p",{className:`${u} font-poppins font-normal`,style:{fontSize:`${v}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-english-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):h==="mal"?e.jsx("p",{className:`${u} font-malayalam font-normal`,style:{fontSize:`${v}px`},dangerouslySetInnerHTML:{__html:a.Translation},"data-malayalam-translation":a.RawTranslation||a.Translation,"data-surah":r,"data-ayah":a.number,"data-parsed":a.Translation}):e.jsx("p",{className:`${u} font-poppins font-normal`,style:{fontSize:`${v}px`},children:a.Translation})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 lg:gap-6 text-gray-500 dark:text-gray-300 px-4 sm:px-6 md:px-8",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[r,".",t+1]}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors relative",onClick:o=>{o.stopPropagation(),Ka(d,a.Translation,t+1)},title:"Copy verse",children:ba===t+1?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-xs text-green-500 font-medium hidden sm:inline",children:"Copied!"})]}):e.jsx(rt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:`p-1 transition-colors ${w===t+1?"text-cyan-600":"text-[#2AA0BF] hover:text-black"} ${w===t+1&&p&&!p.paused?"animate-pulse":""}`,onClick:o=>{o.stopPropagation(),Ga(t+1)},title:w===t+1&&p&&!p.paused?"Pause ayah":w===t+1&&p&&p.paused?"Resume ayah":"Play ayah audio",children:w===t+1&&p&&!p.paused?e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx(st,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),h!=="ta"&&e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:o=>{o.stopPropagation(),Ua(t+1)},title:"View interpretation",children:e.jsx(nt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:o=>{o.stopPropagation(),_a(t+1,o)},children:e.jsx(dt,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:`p-1 transition-colors text-[#2AA0BF] hover:text-black ${ce[`${r}:${t+1}`]?"opacity-50 cursor-not-allowed":""}`,onClick:o=>Qa(o,t,d,a.Translation),disabled:ce[`${r}:${t+1}`],title:le.has(`${r}:${t+1}`)?"Remove bookmark":"Add bookmark",children:ce[`${r}:${t+1}`]?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b border-current"}):e.jsx(ot,{className:`w-3 h-3 sm:w-4 sm:h-4 ${le.has(`${r}:${t+1}`)?"fill-current":""}`})}),e.jsx("button",{className:"p-1 text-[#2AA0BF] hover:text-black transition-colors",onClick:o=>{o.stopPropagation(),Oa(d,a.Translation,t+1)},title:"Share verse",children:e.jsx(lt,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]},t)}),h==="ur"&&F>0&&e.jsxs("div",{className:"flex flex-col items-center gap-3 py-6",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",Math.min(R,F)," of ",F," ayahs"]}),e.jsx("div",{ref:Je,className:"w-full flex items-center justify-center text-sm text-gray-500 dark:text-gray-400 h-12",children:R>=F?"All ayahs loaded":Q?"Loading more ayahs…":"Scroll to load more ayahs"})]})]}):null})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 dark:border-gray-700 px-3 sm:px-4 lg:px-6 py-3 sm:py-4 mt-6 sm:mt-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"sm:hidden space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:Oe,disabled:parseInt(r)<=1,className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg w-[173.96px] min-h-[44px]
                             disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(pa,{className:"w-3 h-3"}),e.jsx("span",{children:"Previous Surah"})]}),e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg min-h-[44px]`,children:[e.jsx(ye,{className:"w-3 h-3"}),e.jsx("span",{children:"Beginning of Surah"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:Ge,disabled:parseInt(r)>=114,className:`w-[173.96px] flex items-center justify-center space-x-2 px-4 py-2 text-xs text-gray-600 
                             dark:bg-[#323A3F] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 
                             border border-gray-300 dark:border-gray-600 rounded-lg min-h-[44px]
                             disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{children:"Next Surah"}),e.jsx(ra,{className:"w-3 h-3"})]})})]}),e.jsxs("div",{className:"hidden sm:flex items-center justify-center space-x-3 sm:space-x-4 lg:space-x-6",children:[e.jsxs("button",{onClick:Oe,disabled:parseInt(r)<=1,className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg
                           disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(pa,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Previous Surah"})]}),e.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg`,children:[e.jsx(ye,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{children:"Beginning of Surah"})]}),e.jsxs("button",{onClick:Ge,disabled:parseInt(r)>=114,className:`flex items-center space-x-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-[#FFFFFF] text-gray-600 
                           dark:bg-[#2A2C38] dark:text-white hover:text-gray-900 dark:hover:text-gray-300 min-h-[44px] 
                           sm:min-h-[48px] border border-gray-300 dark:border-gray-600 rounded-lg
                           disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{children:"Next Surah"}),e.jsx(ra,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]})}),wa&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-[9999] pt-24 sm:pt-28 lg:pt-32 p-2 sm:p-4 lg:p-6 overflow-hidden",children:e.jsx(it,{selectedVerse:ka,surahId:r,onClose:Ha,onNavigate:Va,onSurahChange:za})}),va&&e.jsx(ct,{surahId:r,verseId:ja,onClose:qa}),Be&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Hindi Explanation"}),e.jsx("button",{onClick:()=>Pe(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Ta?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${v}px`},children:Sa})})})]})}),Aa&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bangla Explanation"}),e.jsx("button",{onClick:()=>Re(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Ca?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${v}px`},children:Ea})})})]})}),$a&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Urdu Explanation"}),e.jsx("button",{onClick:()=>De(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Ia?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${v}px`},children:Fa})})})]})}),La&&e.jsx("div",{className:"fixed inset-0 flex items-start justify-center z-[9999] pt-32 sm:pt-40 lg:pt-48 p-2 sm:p-4 lg:p-6 bg-gray-500/70 dark:bg-black/70 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-[#2A2C38] rounded-lg shadow-xl w-full max-w-xs sm:max-w-2xl lg:max-w-4xl xl:max-w-[1073px] h-[85vh] sm:h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"English Explanation"}),e.jsx("button",{onClick:()=>He(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6 overflow-y-auto flex-1",children:Pa?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading explanation..."})]})}):e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 sm:p-6",children:e.jsx("div",{className:"text-gray-700 leading-[1.6] font-poppins sm:leading-[1.7] lg:leading-[1.8] dark:text-white text-sm sm:text-base lg:text-lg prose prose-sm dark:prose-invert max-w-none",style:{fontSize:`${v}px`},children:Ba})})})]})}),Na&&e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:`fixed right-6 z-[60] bg-cyan-500 hover:bg-cyan-600 dark:bg-cyan-600 dark:hover:bg-cyan-700 text-white rounded-full p-3 shadow-lg transition-all duration-300 hover:scale-110 flex items-center justify-center ${w?"bottom-32 sm:bottom-36":"bottom-6"}`,title:"Beginning of Surah","aria-label":"Beginning of Surah",children:e.jsx(ye,{className:"w-6 h-6"})}),w&&e.jsx(mt,{audioElement:p,isPlaying:Ue&&p&&!p.paused,currentAyah:w,totalAyahs:k?.length||0,surahInfo:oe,onPlayPause:Ze,onStop:Ya,onSkipBack:()=>{w&&w>1&&(P(0),V(w-1,0))},onSkipForward:()=>{const a=k?.length||0;w&&w<a&&(P(0),V(w+1,0))},onClose:null,selectedQari:me,onQariChange:a=>{Ma(a),w&&(H(),T(!1),setTimeout(()=>{V(w,0)},50))},translationLanguage:h,audioTypes:xe,onAudioTypesChange:a=>{const t=w;Ra(a),t&&(H(),T(!1),setTimeout(()=>{J(t,0,a)},50))},playbackSpeed:re,onPlaybackSpeedChange:a=>{Wa(a)}})]})})]})};export{Ot as default};
