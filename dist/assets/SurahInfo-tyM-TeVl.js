import{d as N,r as m,j as e,L as k,y as v}from"./index-pxHnjHjD.js";import{A as w}from"./arrow-left-DfnBCv5J.js";const T=()=>{const{surahId:r}=N(),[t,p]=m.useState(null),[g,d]=m.useState(!0),[h,f]=m.useState(null),i=a=>{if(!a)return"";const s=document.createElement("div");return s.innerHTML=a,(s.textContent||s.innerText||"").replace(/\s+/g," ").trim()},j=a=>{if(!a)return[];const s=[];return a.split(/<h2[^>]*>/).forEach((n,u)=>{if(u===0&&!n.includes("</h2>")){if(n.trim()){const l=i(n);l&&s.push({title:"Introduction",content:l})}}else{const l=n.indexOf("</h2>");if(l!==-1){const o=n.substring(0,l).trim(),y=n.substring(l+5).trim(),b=i(y);o&&b&&s.push({title:i(o),content:b})}}}),s};if(m.useEffect(()=>{(async()=>{try{d(!0);const s=await v(r);p(s)}catch(s){f(s.message)}finally{d(!1)}})()},[r]),g)return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading Surah information..."})]})});if(h)return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 dark:text-red-400 text-lg mb-2",children:"Failed to load Surah information"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:h}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Try Again"})]})});const c=t?.thafheem?.PrefaceText?j(t.thafheem.PrefaceText):[];return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white px-3 sm:px-4 lg:px-6 py-4 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center",children:[e.jsx(k,{to:`/surah/${r}`,children:e.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors mr-3 sm:mr-4",children:e.jsx(w,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-white"})})}),e.jsx("h1",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-900 dark:text-white",children:t?.basic?.name_simple||t?.surah?.name||`Surah ${r}`})]})}),e.jsxs("div",{className:"w-full max-w-[1290px] mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8 border-b border-gray-200 dark:border-white pb-4 sm:pb-6 font-poppins",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-arabic text-black mb-4 sm:mb-6 dark:text-white px-2",children:t?.basic?.name_arabic||t?.surah?.arabic||`Surah ${r}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 sm:gap-x-8 md:gap-x-12 lg:gap-x-15 gap-y-2 sm:gap-y-4 text-xs sm:text-sm text-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-black dark:text-white",children:"Revelation: "}),e.jsx("span",{className:"font-semibold text-black dark:text-white",children:t?.basic?.revelation_place||t?.thafheem?.SuraType||t?.surah?.type||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-black dark:text-white",children:"Revelation Order: "}),e.jsx("span",{className:"font-semibold text-black dark:text-white",children:t?.basic?.revelation_order||t?.thafheem?.RevOrder||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-black dark:text-white",children:"Verses: "}),e.jsx("span",{className:"font-semibold text-black dark:text-white",children:t?.basic?.verses_count||t?.thafheem?.TotalAyas||t?.surah?.ayahs||"Unknown"})]})]}),t?.thafheem&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 sm:gap-x-8 md:gap-x-12 lg:gap-x-15 gap-y-2 sm:gap-y-4 mt-2 sm:mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-black dark:text-white text-xs sm:text-sm",children:"Thafheem Vol: "}),e.jsx("span",{className:"font-semibold text-black dark:text-white text-xs sm:text-sm",children:t.thafheem.ThafVolume||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-black dark:text-white text-xs sm:text-sm",children:"Type: "}),e.jsx("span",{className:"font-semibold text-black dark:text-white text-xs sm:text-sm",children:t.thafheem.SuraType||"Unknown"})]})]})]})]}),e.jsxs("div",{className:"font-poppins",children:[t?.detailed?.short_text&&e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-cyan-600 mb-3 sm:mb-4",children:"Overview"}),e.jsx("p",{className:"text-gray-700 leading-relaxed dark:text-white text-sm sm:text-base lg:text-lg px-1 sm:px-0",children:i(t.detailed.short_text)})]}),t?.detailed?.text&&e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-cyan-600 mb-3 sm:mb-4",children:"Detailed Information"}),e.jsx("div",{className:"text-gray-700 leading-relaxed dark:text-white text-sm sm:text-base lg:text-lg px-1 sm:px-0 space-y-4",children:i(t.detailed.text).split(`

`).map((a,s)=>e.jsx("p",{className:"mb-4",children:a.trim()},s))})]}),c.length>0&&e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-cyan-600 mb-3 sm:mb-4",children:"Thafheem Commentary"}),e.jsx("div",{className:"space-y-6",children:c.map((a,s)=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-base sm:text-lg lg:text-xl font-semibold text-cyan-500 mb-2 sm:mb-3",children:a.title}),e.jsx("div",{className:"text-gray-700 leading-relaxed dark:text-white text-sm sm:text-base lg:text-lg px-1 sm:px-0",children:a.content.split(`
`).filter(x=>x.trim()).map((x,n)=>e.jsx("p",{className:"mb-3 sm:mb-4",children:x.trim()},n))})]},s))})]}),!t?.detailed?.text&&c.length===0&&e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-cyan-600 mb-3 sm:mb-4",children:"Basic Information"}),e.jsxs("div",{className:"text-gray-700 leading-relaxed dark:text-white text-sm sm:text-base lg:text-lg px-1 sm:px-0 space-y-4",children:[t?.basic?.translated_name?.name&&e.jsxs("p",{children:[e.jsx("strong",{children:"English Name:"})," ",t.basic.translated_name.name]}),t?.basic?.name_simple&&e.jsxs("p",{children:[e.jsx("strong",{children:"Simple Name:"})," ",t.basic.name_simple]}),t?.basic?.revelation_place&&e.jsxs("p",{children:[e.jsx("strong",{children:"Place of Revelation:"})," ",t.basic.revelation_place]}),t?.basic?.pages&&e.jsxs("p",{children:[e.jsx("strong",{children:"Pages:"})," ",t.basic.pages[0]," to ",t.basic.pages[1]]}),!t?.basic?.translated_name&&e.jsx("p",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Detailed information for this Surah is not available at the moment."})]})]})]})]})]})};export{T as default};
