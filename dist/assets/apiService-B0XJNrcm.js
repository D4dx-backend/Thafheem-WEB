import{A as i,am as c}from"./index-CUlJBpza.js";class h{constructor(){this.requestQueue=new Map}async makeRequest(e,t={},a={}){const s=this.generateCacheKey(e,t);if(this.requestQueue.has(s))return this.requestQueue.get(s);const r=this._makeActualRequest(e,t,a);this.requestQueue.set(s,r);try{return await r}finally{this.requestQueue.delete(s)}}generateCacheKey(e,t={}){const a=Object.keys(t).sort().map(s=>`${s}=${t[s]}`).join("&");return`${e}${a?`?${a}`:""}`}async _makeActualRequest(e,t={},a={}){const s=i||`${c}/api/v1`,r=e.startsWith("/")?e:`/${e}`,o=new URL(`${s}${r}`);Object.keys(t).forEach(n=>{t[n]!==void 0&&t[n]!==null&&o.searchParams.append(n,t[n])});const u=await fetch(o.toString(),{method:"GET",headers:{"Content-Type":"application/json",...a.headers},...a});if(!u.ok){const n=await u.text();throw new Error(`API request failed: ${u.status} ${u.statusText} - ${n}`)}return await u.json()}async getTranslation(e,t,a){return this.makeRequest(`/${e}/translation/${t}/${a}`)}async getSurahTranslations(e,t,a={}){return this.makeRequest(`/${e}/surah/${t}`,a)}async getInterpretation(e,t,a,s=null){const r=s?{explanationNo:s}:{};return this.makeRequest(`/${e}/interpretation/${t}/${a}`,r)}async getWordByWord(e,t,a){return this.makeRequest(`/${e}/word-by-word/${t}/${a}`)}async getUrduFootnote(e){return this.makeRequest(`/urdu/footnote/${e}`)}async getEnglishFootnote(e){return this.makeRequest(`/english/footnote/${e}`)}async getMalayalamFootnote(e){return this.makeRequest(`/malayalam/footnote/${e}`)}async getArabicText(e,t){return this.makeRequest(`/arabic/text/${e}/${t}`)}async checkLanguageHealth(e){return this.makeRequest(`/${e}/health`)}}const q=new h;export{q as a};
