import{ak as i,ao as c}from"./index-DwV6Sgdl.js";class h{constructor(){this.requestQueue=new Map}async makeRequest(e,t={},s={}){const a=this.generateCacheKey(e,t);if(this.requestQueue.has(a))return this.requestQueue.get(a);const r=this._makeActualRequest(e,t,s);this.requestQueue.set(a,r);try{return await r}finally{this.requestQueue.delete(a)}}generateCacheKey(e,t={}){const s=Object.keys(t).sort().map(a=>`${a}=${t[a]}`).join("&");return`${e}${s?`?${s}`:""}`}async _makeActualRequest(e,t={},s={}){const a=i||`${c}/api/v1`,r=e.startsWith("/")?e:`/${e}`,o=new URL(`${a}${r}`);Object.keys(t).forEach(n=>{t[n]!==void 0&&t[n]!==null&&o.searchParams.append(n,t[n])});const u=await fetch(o.toString(),{method:"GET",headers:{"Content-Type":"application/json",...s.headers},...s});if(!u.ok){const n=await u.text();throw new Error(`API request failed: ${u.status} ${u.statusText} - ${n}`)}return await u.json()}async getTranslation(e,t,s){return this.makeRequest(`/${e}/translation/${t}/${s}`)}async getSurahTranslations(e,t,s={}){return this.makeRequest(`/${e}/surah/${t}`,s)}async getInterpretation(e,t,s,a=null){const r=a?{explanationNo:a}:{};return this.makeRequest(`/${e}/interpretation/${t}/${s}`,r)}async getWordByWord(e,t,s){return this.makeRequest(`/${e}/word-by-word/${t}/${s}`)}async getUrduFootnote(e){return this.makeRequest(`/urdu/footnote/${e}`)}async checkLanguageHealth(e){return this.makeRequest(`/${e}/health`)}}const q=new h;export{q as a};
