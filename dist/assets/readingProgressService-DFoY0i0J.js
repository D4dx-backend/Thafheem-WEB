const n="thafheem:last-reading",a=()=>typeof window<"u"&&typeof window.localStorage<"u",l=()=>{if(!a())return null;try{const r=window.localStorage.getItem(n);if(!r)return null;const t=JSON.parse(r);return t?.surahId?t:null}catch(r){return console.error("Failed to read last reading from storage:",r),null}},i=({surahId:r,verseId:t=null,path:o,viewType:s="surah"})=>{if(a()&&r)try{const e={surahId:String(r),verseId:t?String(t):null,viewType:s,path:o||`/surah/${r}`,timestamp:Date.now()};window.localStorage.setItem(n,JSON.stringify(e))}catch(e){console.error("Failed to save last reading to storage:",e)}},d=()=>l(),c=n;export{c as L,d as g,i as s};
