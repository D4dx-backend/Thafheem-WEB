import React, { useState } from "react";
import InterpretationNavbar from "../components/InterpretationNavbar";
import NotePopup from "../components/NotePopup";

const MalayalamInterpreter = () => {
  const [isNoteOpen, setIsNoteOpen] = useState(false);
  const [selectedNote, setSelectedNote] = useState({ id: '', content: '' });

  const handleNoteClick = (noteId) => {
    const noteContent = getNoteContent(noteId);
    setSelectedNote({ id: noteId, content: noteContent });
    setIsNoteOpen(true);
  };

  const getNoteContent = (noteId) => {
    const notes = {
      'N1514': (
        <p className="dark:text-white">
          4. നബി(സ) തിരുമേനി ആ സന്ദര്‍ഭത്തില്‍ അകപ്പെട്ടിരുന്ന സ്ഥിതിവിശേഷമാണിവിടെ സൂചിപ്പിക്കുന്നത്. 
          നബി(സ)ക്കും സഹചാരികള്‍ക്കും എതിരാളികള്‍ ഏല്‍പിച്ചിരുന്ന ദണ്ഡനപീഡനങ്ങളല്ല തിരുമേനിയെ 
          ദുഃഖാകുലനാക്കിയിരുന്നതെന്ന് ഇതില്‍നിന്ന് വ്യക്തമാണ്. അവിടത്തെ കരളിനെ കാര്‍ന്നുതിന്നുകൊണ്ടിരുന്ന 
          വേദന മറ്റൊന്നായിരുന്നു: സ്വജനതയെ മാര്‍ഗഭ്രംശത്തില്‍നിന്നും ധര്‍മച്യുതിയില്‍നിന്നും രക്ഷിക്കാന്‍ 
          തിരുമേനി ശ്രമിച്ചുകൊണ്ടിരിക്കുന്നു. അവരോ, രക്ഷപ്പെടാന്‍ കൂട്ടാക്കുന്നുമില്ല. ഈ ദുര്‍മാര്‍ഗവ്യഗ്രതയുടെ 
          അനിവാര്യ ഫലം നാശവും നരകവുമാണെന്ന് അറിയാവുന്നതുകൊണ്ട് മാത്രമാണ് അതില്‍നിന്ന് അവരെ തടുത്തുനിര്‍ത്താന്‍ 
          രാപ്പകല്‍ഭേദമന്യേ തിരുമേനി തീവ്രയത്‌നം ചെയ്തുകൊണ്ടിരുന്നത്. പക്ഷേ, ഞങ്ങളെന്തായാലും ദൈവശിക്ഷയില്‍ 
          നിപതിച്ചേ അടങ്ങൂ എന്നൊരു ശാഠ്യമായിരുന്നു ജനത്തിന്. ഈ സ്ഥിതിവിശേഷത്തെ തിരുമേനിതന്നെ ഇപ്രകാരം 
          വര്‍ണിക്കുന്നു: ഞാനും നിങ്ങളുമായുള്ള സ്ഥിതി ഒരാള്‍ തീ കൊളുത്തിയ സ്ഥിതിയോടുപമിക്കാവുന്നതാണ്. 
          തീ കത്തിച്ചത് വെളിച്ചത്തിനു വേണ്ടിയാണെങ്കിലും പാറ്റകളും പ്രാണികളും സ്വയം കരിഞ്ഞു ചാവാന്‍ 
          അതില്‍ ചെന്നു വീഴുന്നു. അയാള്‍ അവയെ തീയില്‍നിന്ന് എങ്ങനെയും രക്ഷപ്പെടുത്താന്‍ ആവുംവണ്ണം 
          ശ്രമിച്ചുനോക്കുന്നു. പക്ഷേ, അവയുണ്ടോ സമ്മതിക്കുന്നു! ഇതാണ് എന്റെയും സ്ഥിതി. ഞാന്‍ നിങ്ങളുടെ 
          തുണിത്തുമ്പ് പിടിച്ച് വലിച്ചുകൊണ്ടേയിരിക്കുന്നു. നിങ്ങളോ പിടിയില്‍നിന്ന് കുതറിച്ചാടുകയും. 
          ഞങ്ങളുണ്ടോ ജനങ്ങളായാലും ഞങ്ങളുടെ വിശേഷത്തെ വര്‍ണിക്കുന്നു ഇപ്രകാരം വര്‍ണിക്കുന്നു ജനത്തിന്. 
          ഈ സ്ഥിതിവിശേഷത്തെ തിരുമേനിതന്നെ ഇപ്രകാരം വര്‍ണിക്കുന്നു: ഞാനും നിങ്ങളുമായുള്ള സ്ഥിതി 
          ഒരാള്‍ തീ കൊളുത്തിയ സ്ഥിതിയോടുപമിക്കാവുന്നതാണ്. തീ കത്തിച്ചത് വെളിച്ചത്തിനു വേണ്ടിയാണെങ്കിലും 
          പാറ്റകളും പ്രാണികളും സ്വയം കരിഞ്ഞു ചാവാന്‍ അതില്‍ ചെന്നു വീഴുന്നു. അയാള്‍ അവയെ തീയില്‍നിന്ന് 
          എങ്ങനെയും രക്ഷപ്പെടുത്താന്‍ ആവുംവണ്ണം ശ്രമിച്ചുനോക്കുന്നു. പക്ഷേ, അവയുണ്ടോ സമ്മതിക്കുന്നു! 
          ഇതാണ് എന്റെയും സ്ഥിതി. ഞാന്‍ നിങ്ങളുടെ തുണിത്തുമ്പ് പിടിച്ച് വലിച്ചുകൊണ്ടേയിരിക്കുന്നു. 
          നിങ്ങളോ പിടിയില്‍നിന്ന് കുതറിച്ചാടുകയും. തി കത്തിച്ചത്
        </p>
      ),
      'N1462': (
        <p className="dark:text-white">
          മുസ്‌ലിം N1462 - ഇത് മുസ്‌ലിം ഹദീസ് ശേഖരത്തിലെ 1462-ാം നമ്പര്‍ ഹദീസിനെ സൂചിപ്പിക്കുന്നു.
        </p>
      ),
      '3 26:3': (
        <div className="dark:bg-[#2A2C38]  ">
          <div className="text-center mb-4">
            <h3 className="text-lg font-medium text-[#2AA0BF] mb-2">Verse Range 1-6</h3>
            <div className="text-right text-2xl leading-relaxed mb-4 dark:text-white" style={{ fontFamily: "serif" }}>
              ﴿١﴾ الم ﴿٢﴾ ذَٰلِكَ الْكِتَابُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ ﴿٣﴾ الَّذِينَ يُؤْمِنُونَ بِالْغَيْبِ وَيُقِيمُونَ الصَّلَاةَ وَمِمَّا رَزَقْنَاهُمْ يُنفِقُونَ ﴿٤﴾ وَالَّذِينَ يُؤْمِنُونَ بِمَا أُنزِلَ إِلَيْكَ وَمَا أُنزِلَ مِن قَبْلِكَ وَبِالْآخِرَةِ هُمْ يُوقِنُونَ ﴿٥﴾ أُولَٰئِكَ عَلَىٰ هُدًى مِّن رَّبِّهِمْ ۖ وَأُولَٰئِكَ هُمُ الْمُفْلِحُونَ ﴿٦﴾
            </div>
          </div>
          <p className="text-gray-800 leading-relaxed text-justify dark:text-white">
            4. നബി(സ) തിരുമേനി ആ സന്ദര്‍ഭത്തില്‍ അകപ്പെട്ടിരുന്ന സ്ഥിതിവിശേഷമാണിവിടെ സൂചിപ്പിക്കുന്നത്. 
            നബി(സ)ക്കും സഹചാരികള്‍ക്കും എതിരാളികള്‍ ഏല്‍പിച്ചിരുന്ന ദണ്ഡനപീഡനങ്ങളല്ല തിരുമേനിയെ 
            ദുഃഖാകുലനാക്കിയിരുന്നതെന്ന് ഇതില്‍നിന്ന് വ്യക്തമാണ്. അവിടത്തെ കരളിനെ കാര്‍ന്നുതിന്നുകൊണ്ടിരുന്ന 
            വേദന മറ്റൊന്നായിരുന്നു: സ്വജനതയെ മാര്‍ഗഭ്രംശത്തില്‍നിന്നും ധര്‍മച്യുതിയില്‍നിന്നും രക്ഷിക്കാന്‍ 
            തിരുമേനി ശ്രമിച്ചുകൊണ്ടിരിക്കുന്നു. അവരോ, രക്ഷപ്പെടാന്‍ കൂട്ടാക്കുന്നുമില്ല. ഈ ദുര്‍മാര്‍ഗവ്യഗ്രതയുടെ 
            അനിവാര്യ ഫലം നാശവും നരകവുമാണെന്ന് അറിയാവുന്നതുകൊണ്ട് മാത്രമാണ് അതില്‍നിന്ന് അവരെ തടുത്തുനിര്‍ത്താന്‍ 
            രാപ്പകല്‍ഭേദമന്യേ തിരുമേനി തീവ്രയത്‌നം ചെയ്തുകൊണ്ടിരുന്നത്. പക്ഷേ, ഞങ്ങളെന്തായാലും ദൈവശിക്ഷയില്‍ 
            നിപതിച്ചേ അടങ്ങൂ എന്നൊരു ശാഠ്യമായിരുന്നു ജനത്തിന്. ഈ സ്ഥിതിവിശേഷത്തെ തിരുമേനിതന്നെ ഇപ്രകാരം 
            വര്‍ണിക്കുന്നു: സ്വജനതയെ മാര്‍ഗഭ്രംശത്തില്‍നിന്നും ധര്‍മച്യുതിയില്‍നിന്നും രക്ഷിക്കാന്‍ തിരുമേനി 
            ശ്രമിച്ചുകൊണ്ടിരിക്കുന്നു. അവരോ, രക്ഷപ്പെടാന്‍ കൂട്ടാക്കുന്നുമില്ല.
          </p>
        </div>
      )
    };
    return notes[noteId] || <p>Note content not found.</p>;
  };

  return (
    <>
    <InterpretationNavbar 
      interpretationNumber={4} 
      surahName="18- Al-Kahf" 
      verseRange="6 - 7" 
    />
      <div className="max-w-4xl mx-auto p-6 bg-white dark:bg-[#2A2C38]">
        <div className="space-y-6">
          {/* Main Content Block */}
          <div className="bg-gray-50 dark:bg-[#2A2C38] p-6 rounded-lg border-l-4 dark:border-[#2A2C38] border-white">
            <div
              className="text-gray-800 dark:text-white leading-relaxed text-justify space-y-4"
              style={{ fontFamily: "serif" }}
            >
              <p>
                <span className="font-semibold">4.</span> നബി(സ) തിരുമേനി ആ
                സന്ദര്‍ഭത്തില്‍ അകപ്പെട്ടിരുന്ന സ്ഥിതിവിശേഷമാണിവിടെ
                സൂചിപ്പിക്കുന്നത്. നബി(സ)ക്കും സഹചാരികള്‍ക്കും എതിരാളികള്‍
                ഏല്‍പിച്ചിരുന്ന ദണ്ഡനപീഡനങ്ങളല്ല തിരുമേനിയെ
                ദുഃഖാകുലനാക്കിയിരുന്നതെന്ന് ഇതില്‍നിന്ന് വ്യക്തമാണ്. അവിടത്തെ
                കരളിനെ കാര്‍ന്നുതിന്നുകൊണ്ടിരുന്ന വേദന മറ്റൊന്നായിരുന്നു:
                സ്വജനതയെ മാര്‍ഗഭ്രംശത്തില്‍നിന്നും ധര്‍മച്യുതിയില്‍നിന്നും
                രക്ഷിക്കാന്‍ തിരുമേനി ശ്രമിച്ചുകൊണ്ടിരിക്കുന്നു. അവരോ,
                രക്ഷപ്പെടാന്‍ കൂട്ടാക്കുന്നുമില്ല. ഈ ദുര്‍മാര്‍ഗവ്യഗ്രതയുടെ
                അനിവാര്യ ഫലം നാശവും നരകവുമാണെന്ന് അറിയാവുന്നതുകൊണ്ട് മാത്രമാണ്
                അതില്‍നിന്ന് അവരെ തടുത്തുനിര്‍ത്താന്‍ രാപ്പകല്‍ഭേദമന്യേ
                തിരുമേനി തീവ്രയത്‌നം ചെയ്തുകൊണ്ടിരുന്നത്. പക്ഷേ, ഞങ്ങളെന്തായാലും
                ദൈവശിക്ഷയില്‍ നിപതിച്ചേ അടങ്ങൂ എന്നൊരു ശാഠ്യമായിരുന്നു ജനത്തിന്.
                ഈ സ്ഥിതിവിശേഷത്തെ തിരുമേനിതന്നെ ഇപ്രകാരം വര്‍ണിക്കുന്നു: ഞാനും
                നിങ്ങളുമായുള്ള സ്ഥിതി ഒരാള്‍ തീ കൊളുത്തിയ സ്ഥിതിയോടുപമിക്കാവുന്നതാണ്.
                തീ കത്തിച്ചത് വെളിച്ചത്തിനു വേണ്ടിയാണെങ്കിലും പാറ്റകളും പ്രാണികളും
                സ്വയം കരിഞ്ഞു ചാവാന്‍ അതില്‍ ചെന്നു വീഴുന്നു. അയാള്‍ അവയെ
                തീയില്‍നിന്ന് എങ്ങനെയും രക്ഷപ്പെടുത്താന്‍ ആവുംവണ്ണം
                ശ്രമിച്ചുനോക്കുന്നു. പക്ഷേ, അവയുണ്ടോ സമ്മതിക്കുന്നു! ഇതാണ് എന്റെയും
                സ്ഥിതി. ഞാന്‍ നിങ്ങളുടെ തുണിത്തുമ്പ് പിടിച്ച് വലിച്ചുകൊണ്ടേയിരിക്കുന്നു.
                നിങ്ങളോ പിടിയില്‍നിന്ന് കുതറിച്ചാടുകയും.'{" "}
                <span className="italic">(ബുഖാരി. താരതമ്യത്തിനു നോക്കുക: അശ്ശുഅറാഅ്, സൂക്തം: </span>
                <button 
                  onClick={() => handleNoteClick('3 26:3')}
                  className="text-blue-600 underline hover:text-blue-800 transition-colors cursor-pointer"
                >
                  3 26:3
                </button>
                <span className="italic">)</span>.
              </p>

              <p>
                "ജനം വിശ്വാസികളാകാത്തതില്‍ മനംനൊന്ത് താങ്കള്‍ സ്വയം ഹനിച്ചേക്കാം"
                എന്നാണ് പ്രകൃത വാക്യത്തില്‍ പ്രത്യക്ഷമായി പറഞ്ഞിട്ടുള്ളതെങ്കിലും അതില്‍
                ഭംഗ്യന്തരേണ തിരുമേനിയെ സാന്ത്വനപ്പെടുത്തുകയും
                സമാശ്വസിപ്പിക്കുകയും കൂടി ചെയ്തിട്ടുണ്ട്. ജനങ്ങള്‍ വിശ്വസിച്ചില്ലെങ്കില്‍
                താങ്കള്‍ക്കതില്‍ ഉത്തരവാദിത്വമില്ല. പിന്നെന്തിനു താങ്കള്‍ സ്വയം
                വേദനിച്ചു വെന്തുരുകണം? രക്ഷയെക്കുറിച്ച് സന്തോഷവാര്‍ത്തയറിയിക്കുക.
                ശിക്ഷയെക്കുറിച്ചു മുന്നറിയിപ്പു നല്‍കുക. ഇതു മാത്രമാണ് താങ്കളുടെ
                ദൗത്യം. ജനങ്ങളെ വിശ്വാസമുള്ളവരാക്കുക താങ്കളുടെ കര്‍ത്തവ്യമല്ല.
                അതിനാല്‍, സത്യപ്രബോധനമെന്ന താങ്കളുടെ ഡ്യൂട്ടി
                നിര്‍വഹിച്ചുകൊണ്ടിരിക്കുക. വിശ്വസിക്കുന്നവര്‍ക്ക്
                സന്തോഷവാര്‍ത്തയറിയിക്കുക. നിഷേധികളെ തങ്ങളുടെ ചീത്ത
                പരിണാമത്തെക്കുറിച്ച് താക്കീതുചെയ്യുക.{" "}
                <button 
                  onClick={() => handleNoteClick('N1514')}
                  className="text-blue-600 underline hover:text-blue-800 transition-colors cursor-pointer"
                >
                  N1514
                </button>,{" "}
                <button 
                  onClick={() => handleNoteClick('N1462')}
                  className="text-blue-600 underline hover:text-blue-800 transition-colors cursor-pointer"
                >
                  മുസ്‌ലിം N1462
                </button>
              </p>
            </div>
          </div>

          {/* Navigation Block */}
          <div className="flex justify-between items-center pt-8 border-t border-gray-200">
            <button className="flex items-center px-4 py-2 border  dark:bg-[#2A2C38] dark:text-white dark:hover:text-white border-gray-300 rounded-md text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors bg-white">
              <span className="mr-2">←</span>
              <span>Previous Ayah</span>
            </button>

            <button className="flex items-center px-4 py-2 border dark:bg-[#2A2C38] dark:text-white dark:hover:text-white border-gray-300 rounded-md text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors bg-white">
              <span>Next Ayah</span>
              <span className="ml-2">→</span>
            </button>
          </div>
        </div>
      </div>

      {/* Note Popup */}
      <NotePopup
        isOpen={isNoteOpen}
        onClose={() => setIsNoteOpen(false)}
        noteId={selectedNote.id}
        noteContent={selectedNote.content}
      />
    </>
  );
};

export default MalayalamInterpreter;
